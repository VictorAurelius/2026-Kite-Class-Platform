@startuml business-flow-v3
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 11
skinparam monochrome true
skinparam shadowing false

title Quy Trình Mở Node KiteClass

actor "Khách hàng" as CUST
participant "Sale Module" as SALE
participant "AI Agent" as AI
participant "Maintaining\nModule" as MAINT
participant "KiteClass\nInstance" as KC

== 1. Đặt hàng và Thanh toán ==

CUST -> SALE : Chọn gói dịch vụ\nUpload ảnh cá nhân
SALE -> SALE : Xử lý thanh toán
SALE --> CUST : Xác nhận đơn hàng

== 2. Tạo Branding với AI ==

SALE -> AI : Gửi ảnh và thông tin
AI -> AI : Remove background\nTrích xuất màu sắc\nTạo logo, banner\nSinh nội dung marketing
AI --> CUST : Preview branding\n(~30 giây, $0.19)
CUST --> AI : Xác nhận

== 3. Provision Infrastructure ==

AI -> MAINT : Yêu cầu provision
MAINT -> MAINT : Tạo database riêng\nTạo storage buckets\nCấu hình hạ tầng
MAINT --> CUST : Hạ tầng sẵn sàng

== 4. Deploy Services ==

MAINT -> KC : Deploy microservices\nDeploy frontend có branding
KC -> KC : Build & khởi động\nÁp dụng AI branding
KC --> MAINT : Triển khai hoàn tất
MAINT --> CUST : Gửi URL truy cập\nhttps://[tên].kiteclass.com

== 5. Sử dụng ==

CUST -> KC : Truy cập và sử dụng
KC --> CUST : Platform sẵn sàng

note right of KC
  Tạo logo, banner,
  nội dung marketing
  tự động với AI
end note

note right of MAINT
  Toàn bộ quy trình
  tự động 3-5 phút
end note

@enduml
