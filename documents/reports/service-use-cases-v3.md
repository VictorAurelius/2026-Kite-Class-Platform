# BÃO CÃO USE CASE THEO SERVICE - KITECLASS PLATFORM V3
## Chi tiáº¿t chá»©c nÄƒng tá»«ng service

## ThÃ´ng tin tÃ i liá»‡u

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **TÃªn dá»± Ã¡n** | KiteClass Platform V3 |
| **PhiÃªn báº£n** | 3.0 (Final) |
| **NgÃ y táº¡o** | 23/12/2025 |
| **Loáº¡i tÃ i liá»‡u** | Use Case Specification |
| **Tham chiáº¿u** | system-architecture-v3-final.md |

---

# Má»¤C Lá»¤C

**KITEHUB (Java Spring Boot + Next.js Frontend)**
1. [KITEHUB - Sale Module](#pháº§n-1-kitehub---sale-module)
2. [KITEHUB - Message Module](#pháº§n-2-kitehub---message-module)
3. [KITEHUB - Maintaining Module](#pháº§n-3-kitehub---maintaining-module)
4. [KITEHUB - AI Agent Module](#pháº§n-4-kitehub---ai-agent-module)
4B. [KITEHUB - Authentication & Authorization](#pháº§n-4b-kitehub---authentication--authorization) â­ NEW
9. [KITEHUB - Frontend](#pháº§n-9-kitehub---frontend)

**KITECLASS Instance (4 Services + Gateway)**
4C. [KITECLASS - API Gateway](#pháº§n-4c-kiteclass---api-gateway) â­ NEW
5. [KITECLASS - Core Service](#pháº§n-5-kiteclass---core-service)
6. [KITECLASS - User Service](#pháº§n-6-kiteclass---user-service)
7. [KITECLASS - Media Service](#pháº§n-7-kiteclass---media-service)
8. [KITECLASS - Frontend](#pháº§n-8-kiteclass---frontend)

---

# PHáº¦N 1: KITEHUB - SALE MODULE

## 1.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Quáº£n lÃ½ bÃ¡n hÃ ng, landing page, Ä‘Æ¡n hÃ ng, thanh toÃ¡n |
| **CÃ´ng nghá»‡** | Java Spring Boot (trong KiteHub Monolith) |
| **Database** | PostgreSQL - Schema: sales |
| **Actors** | Customer, Admin |

## 1.2. Use Cases

### UC-SALE-01: Xem trang giá»›i thiá»‡u sáº£n pháº©m

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-SALE-01: Xem trang giá»›i thiá»‡u sáº£n pháº©m                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer (KhÃ¡ch hÃ ng tiá»m nÄƒng)                                          â”‚
â”‚ Precondition: KhÃ´ng                                                             â”‚
â”‚ Trigger: KhÃ¡ch hÃ ng truy cáº­p website                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. KhÃ¡ch hÃ ng truy cáº­p https://kiteclass.com                                   â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ landing page vá»›i:                                         â”‚
â”‚    - Hero section giá»›i thiá»‡u platform                                          â”‚
â”‚    - Danh sÃ¡ch tÃ­nh nÄƒng ná»•i báº­t                                               â”‚
â”‚    - Testimonials tá»« khÃ¡ch hÃ ng                                                â”‚
â”‚    - CÃ¡c gÃ³i sáº£n pháº©m (BASIC, STANDARD, PREMIUM)                               â”‚
â”‚    - Form Ä‘Äƒng kÃ½ dÃ¹ng thá»­ / liÃªn há»‡                                           â”‚
â”‚ 3. KhÃ¡ch hÃ ng cÃ³ thá»ƒ Ä‘iá»u hÆ°á»›ng Ä‘áº¿n cÃ¡c trang:                                 â”‚
â”‚    - /pricing: Chi tiáº¿t báº£ng giÃ¡                                               â”‚
â”‚    - /features: Chi tiáº¿t tÃ­nh nÄƒng                                             â”‚
â”‚    - /demo: Xem demo                                                           â”‚
â”‚    - /contact: LiÃªn há»‡                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: KhÃ¡ch hÃ ng cÃ³ thÃ´ng tin vá» sáº£n pháº©m                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-SALE-02: ÄÄƒng kÃ½ mua gÃ³i dá»‹ch vá»¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-SALE-02: ÄÄƒng kÃ½ mua gÃ³i dá»‹ch vá»¥                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer                                                                 â”‚
â”‚ Precondition: KhÃ¡ch hÃ ng Ä‘Ã£ xem thÃ´ng tin sáº£n pháº©m                              â”‚
â”‚ Trigger: KhÃ¡ch hÃ ng click "ÄÄƒng kÃ½" trÃªn gÃ³i dá»‹ch vá»¥                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. KhÃ¡ch hÃ ng chá»n gÃ³i dá»‹ch vá»¥ (BASIC/STANDARD/PREMIUM)                        â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ form Ä‘Äƒng kÃ½:                                             â”‚
â”‚    - TÃªn tá»• chá»©c (*)                                                           â”‚
â”‚    - Email quáº£n trá»‹ (*)                                                        â”‚
â”‚    - Subdomain mong muá»‘n (*) - VD: acme.kiteclass.com                          â”‚
â”‚    - Sá»‘ Ä‘iá»‡n thoáº¡i                                                             â”‚
â”‚    - NgÃ nh nghá»                                                                â”‚
â”‚    - Upload áº£nh/logo (cho AI Marketing)                                        â”‚
â”‚    - Slogan (optional)                                                         â”‚
â”‚ 3. KhÃ¡ch hÃ ng Ä‘iá»n thÃ´ng tin vÃ  submit                                         â”‚
â”‚ 4. Há»‡ thá»‘ng validate:                                                          â”‚
â”‚    - Email há»£p lá»‡, chÆ°a Ä‘Äƒng kÃ½                                                â”‚
â”‚    - Subdomain kháº£ dá»¥ng                                                        â”‚
â”‚    - áº¢nh Ä‘Ãºng Ä‘á»‹nh dáº¡ng (náº¿u cÃ³)                                               â”‚
â”‚ 5. Há»‡ thá»‘ng táº¡o Ä‘Æ¡n hÃ ng vá»›i status = PENDING                                  â”‚
â”‚ 6. Redirect khÃ¡ch hÃ ng Ä‘áº¿n trang thanh toÃ¡n                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 4a. Subdomain Ä‘Ã£ tá»“n táº¡i:                                                      â”‚
â”‚     - Há»‡ thá»‘ng gá»£i Ã½ subdomain khÃ¡c                                            â”‚
â”‚     - KhÃ¡ch hÃ ng chá»n hoáº·c nháº­p má»›i                                            â”‚
â”‚ 4b. Email Ä‘Ã£ Ä‘Äƒng kÃ½:                                                          â”‚
â”‚     - ThÃ´ng bÃ¡o tÃ i khoáº£n Ä‘Ã£ tá»“n táº¡i                                           â”‚
â”‚     - Gá»£i Ã½ Ä‘Äƒng nháº­p hoáº·c khÃ´i phá»¥c máº­t kháº©u                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: ÄÆ¡n hÃ ng Ä‘Æ°á»£c táº¡o, chá» thanh toÃ¡n                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-SALE-03: Thanh toÃ¡n Ä‘Æ¡n hÃ ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-SALE-03: Thanh toÃ¡n Ä‘Æ¡n hÃ ng                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer                                                                 â”‚
â”‚ Precondition: ÄÃ£ cÃ³ Ä‘Æ¡n hÃ ng vá»›i status = PENDING                               â”‚
â”‚ Trigger: KhÃ¡ch hÃ ng á»Ÿ trang thanh toÃ¡n                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng tin Ä‘Æ¡n hÃ ng:                                       â”‚
â”‚    - GÃ³i dá»‹ch vá»¥ Ä‘Ã£ chá»n                                                       â”‚
â”‚    - Subdomain: acme.kiteclass.com                                             â”‚
â”‚    - Sá»‘ tiá»n: 1,500,000 VND/thÃ¡ng                                              â”‚
â”‚    - Chu ká»³ thanh toÃ¡n: HÃ ng thÃ¡ng / HÃ ng nÄƒm                                  â”‚
â”‚ 2. KhÃ¡ch hÃ ng chá»n phÆ°Æ¡ng thá»©c thanh toÃ¡n:                                     â”‚
â”‚    - Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng                                                    â”‚
â”‚    - VÃ­ Ä‘iá»‡n tá»­ (MoMo, ZaloPay)                                                â”‚
â”‚    - Tháº» quá»‘c táº¿ (Visa/Mastercard)                                             â”‚
â”‚ 3. KhÃ¡ch hÃ ng xÃ¡c nháº­n thanh toÃ¡n                                              â”‚
â”‚ 4. Há»‡ thá»‘ng xá»­ lÃ½ thanh toÃ¡n                                                   â”‚
â”‚ 5. Thanh toÃ¡n thÃ nh cÃ´ng:                                                      â”‚
â”‚    - Cáº­p nháº­t order status = PAID                                              â”‚
â”‚    - Gá»­i email xÃ¡c nháº­n                                                        â”‚
â”‚    - Trigger provisioning process                                               â”‚
â”‚ 6. Redirect Ä‘áº¿n trang "ÄÆ¡n hÃ ng thÃ nh cÃ´ng"                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 5a. Thanh toÃ¡n tháº¥t báº¡i:                                                       â”‚
â”‚     - Hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i                                                   â”‚
â”‚     - Cho phÃ©p thá»­ láº¡i hoáº·c Ä‘á»•i phÆ°Æ¡ng thá»©c                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: ÄÆ¡n hÃ ng Ä‘Ã£ thanh toÃ¡n, báº¯t Ä‘áº§u provisioning                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-SALE-04: Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (Admin)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-SALE-04: Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (Admin)                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Admin (KiteHub)                                                          â”‚
â”‚ Precondition: Admin Ä‘Ã£ Ä‘Äƒng nháº­p                                                â”‚
â”‚ Trigger: Admin truy cáº­p trang quáº£n lÃ½ Ä‘Æ¡n hÃ ng                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Admin truy cáº­p /admin/orders                                                â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch Ä‘Æ¡n hÃ ng vá»›i filter:                            â”‚
â”‚    - Theo status (PENDING, PAID, PROVISIONING, ACTIVE, CANCELLED)              â”‚
â”‚    - Theo thá»i gian                                                            â”‚
â”‚    - Theo gÃ³i dá»‹ch vá»¥                                                          â”‚
â”‚ 3. Admin cÃ³ thá»ƒ:                                                               â”‚
â”‚    a. Xem chi tiáº¿t Ä‘Æ¡n hÃ ng                                                    â”‚
â”‚    b. XÃ¡c nháº­n thanh toÃ¡n thá»§ cÃ´ng (chuyá»ƒn khoáº£n)                              â”‚
â”‚    c. Há»§y Ä‘Æ¡n hÃ ng                                                             â”‚
â”‚    d. Xem tiáº¿n trÃ¬nh provisioning                                              â”‚
â”‚    e. LiÃªn há»‡ khÃ¡ch hÃ ng                                                       â”‚
â”‚ 4. Vá»›i má»—i action, há»‡ thá»‘ng ghi log                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Admin Ä‘Ã£ quáº£n lÃ½ Ä‘Æ¡n hÃ ng                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 2: KITEHUB - MESSAGE MODULE

## 2.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Há»‡ thá»‘ng chat há»— trá»£ khÃ¡ch hÃ ng, thÃ´ng bÃ¡o |
| **CÃ´ng nghá»‡** | Java Spring Boot + WebSocket (STOMP/SockJS) |
| **Database** | PostgreSQL - Schema: messaging |
| **Actors** | Customer, Agent (nhÃ¢n viÃªn há»— trá»£), System |

## 2.2. Use Cases

### UC-MSG-01: KhÃ¡ch hÃ ng chat vá»›i bá»™ pháº­n há»— trá»£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MSG-01: KhÃ¡ch hÃ ng chat vá»›i bá»™ pháº­n há»— trá»£                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer                                                                 â”‚
â”‚ Precondition: KhÃ¡ch hÃ ng Ä‘ang á»Ÿ website                                         â”‚
â”‚ Trigger: KhÃ¡ch hÃ ng click vÃ o widget chat                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. KhÃ¡ch hÃ ng click icon chat gÃ³c pháº£i mÃ n hÃ¬nh                                â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ chat widget vá»›i:                                          â”‚
â”‚    - Lá»i chÃ o tá»± Ä‘á»™ng                                                          â”‚
â”‚    - Form nháº­p email (náº¿u chÆ°a Ä‘Äƒng nháº­p)                                      â”‚
â”‚ 3. KhÃ¡ch hÃ ng nháº­p tin nháº¯n                                                    â”‚
â”‚ 4. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Náº¿u cÃ³ Agent online â†’ Chuyá»ƒn Ä‘áº¿n Agent                                   â”‚
â”‚    b. Náº¿u khÃ´ng cÃ³ Agent â†’ Chatbot AI tráº£ lá»i FAQ                              â”‚
â”‚ 5. Agent/Chatbot tráº£ lá»i                                                       â”‚
â”‚ 6. Cuá»™c há»™i thoáº¡i tiáº¿p tá»¥c real-time                                           â”‚
â”‚ 7. Khi káº¿t thÃºc, há»‡ thá»‘ng:                                                     â”‚
â”‚    - LÆ°u lá»‹ch sá»­ chat                                                          â”‚
â”‚    - Gá»­i transcript qua email (náº¿u cÃ³)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: KhÃ¡ch hÃ ng Ä‘Ã£ Ä‘Æ°á»£c há»— trá»£                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-MSG-02: Agent xá»­ lÃ½ chat

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MSG-02: Agent xá»­ lÃ½ chat                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Agent (NhÃ¢n viÃªn há»— trá»£)                                                 â”‚
â”‚ Precondition: Agent Ä‘Ã£ Ä‘Äƒng nháº­p, status = Available                            â”‚
â”‚ Trigger: CÃ³ cuá»™c chat má»›i Ä‘Æ°á»£c assign                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Agent nháº­n thÃ´ng bÃ¡o cÃ³ chat má»›i                                            â”‚
â”‚ 2. Agent má»Ÿ cuá»™c chat                                                          â”‚
â”‚ 3. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - ThÃ´ng tin khÃ¡ch hÃ ng                                                      â”‚
â”‚    - Lá»‹ch sá»­ chat trÆ°á»›c Ä‘Ã³ (náº¿u cÃ³)                                            â”‚
â”‚    - Context tá»« trang khÃ¡ch Ä‘ang xem                                           â”‚
â”‚ 4. Agent tráº£ lá»i khÃ¡ch hÃ ng                                                    â”‚
â”‚ 5. Agent cÃ³ thá»ƒ:                                                               â”‚
â”‚    a. Gá»­i file Ä‘Ã­nh kÃ¨m                                                        â”‚
â”‚    b. Gá»­i canned responses (máº«u cÃ¢u tráº£ lá»i)                                   â”‚
â”‚    c. Transfer sang Agent khÃ¡c                                                 â”‚
â”‚    d. ÄÃ¡nh tag cuá»™c chat                                                       â”‚
â”‚ 6. Khi hoÃ n thÃ nh, Agent close cuá»™c chat                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Cuá»™c chat Ä‘Æ°á»£c xá»­ lÃ½, lÆ°u lá»‹ch sá»­                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-MSG-03: Gá»­i thÃ´ng bÃ¡o há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MSG-03: Gá»­i thÃ´ng bÃ¡o há»‡ thá»‘ng                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (Automated)                                                       â”‚
â”‚ Precondition: CÃ³ event cáº§n thÃ´ng bÃ¡o                                            â”‚
â”‚ Trigger: Order status change, Instance ready, etc.                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. System event Ä‘Æ°á»£c trigger                                                   â”‚
â”‚ 2. Message Module nháº­n event tá»« queue                                          â”‚
â”‚ 3. XÃ¡c Ä‘á»‹nh ngÆ°á»i nháº­n vÃ  kÃªnh gá»­i:                                            â”‚
â”‚    - Email                                                                     â”‚
â”‚    - Push notification                                                         â”‚
â”‚    - In-app notification                                                       â”‚
â”‚ 4. Render template notification vá»›i data                                       â”‚
â”‚ 5. Gá»­i qua cÃ¡c kÃªnh Ä‘Ã£ xÃ¡c Ä‘á»‹nh                                               â”‚
â”‚ 6. Log káº¿t quáº£ gá»­i                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VÃ­ dá»¥ notifications:                                                           â”‚
â”‚ - "ÄÆ¡n hÃ ng cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n"                                          â”‚
â”‚ - "Instance acme.kiteclass.com Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng"                            â”‚
â”‚ - "HÃ³a Ä‘Æ¡n thÃ¡ng 12 Ä‘Ã£ Ä‘Æ°á»£c táº¡o"                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: ThÃ´ng bÃ¡o Ä‘Ã£ Ä‘Æ°á»£c gá»­i                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 3: KITEHUB - MAINTAINING MODULE

## 3.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Provisioning, quáº£n lÃ½ vÃ  giÃ¡m sÃ¡t cÃ¡c KiteClass instances |
| **CÃ´ng nghá»‡** | Java Spring Boot + Kubernetes Client (fabric8) |
| **Database** | PostgreSQL - Schema: instances |
| **Actors** | System, Admin |

## 3.2. Use Cases

### UC-MAINT-01: Tá»± Ä‘á»™ng provisioning instance má»›i

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MAINT-01: Tá»± Ä‘á»™ng provisioning instance má»›i                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (Triggered by Sale Module)                                        â”‚
â”‚ Precondition: Order status = PAID, AI assets Ä‘Ã£ generate xong                   â”‚
â”‚ Trigger: Event ORDER_PAID tá»« queue                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Maintaining Module nháº­n event ORDER_PAID                                    â”‚
â”‚ 2. Táº¡o instance record vá»›i status = PROVISIONING                               â”‚
â”‚ 3. Táº¡o Kubernetes namespace: kc-{subdomain}                                    â”‚
â”‚ 4. Deploy cÃ¡c resources:                                                       â”‚
â”‚    a. PostgreSQL database (hoáº·c schema trong shared DB)                        â”‚
â”‚    b. Redis cache                                                              â”‚
â”‚    c. Core Service deployment                                                  â”‚
â”‚    d. User Service deployment                                                  â”‚
â”‚    e. Media Service deployment                                                 â”‚
â”‚    f. Frontend deployment                                                      â”‚
â”‚    g. API Gateway (Ingress)                                                    â”‚
â”‚ 5. Chá» táº¥t cáº£ pods healthy (max 10 phÃºt)                                       â”‚
â”‚ 6. Cháº¡y database migrations                                                    â”‚
â”‚ 7. Seed initial data:                                                          â”‚
â”‚    - Admin account                                                             â”‚
â”‚    - Default roles & permissions                                               â”‚
â”‚    - AI-generated assets tá»« AI Agent Module                                    â”‚
â”‚ 8. Verify services healthy (health checks)                                     â”‚
â”‚ 9. Cáº­p nháº­t instance status = ACTIVE                                           â”‚
â”‚ 10. Publish event INSTANCE_READY                                               â”‚
â”‚ 11. Message Module gá»­i email thÃ´ng bÃ¡o cho customer                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 5a. Provisioning timeout:                                                      â”‚
â”‚     - Set status = FAILED                                                      â”‚
â”‚     - Rollback resources                                                       â”‚
â”‚     - Alert Admin                                                              â”‚
â”‚     - ThÃ´ng bÃ¡o lá»—i cho customer                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Instance sáºµn sÃ ng sá»­ dá»¥ng táº¡i {subdomain}.kiteclass.com          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-MAINT-02: Monitor instance health

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MAINT-02: Monitor instance health                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (Scheduled Job)                                                   â”‚
â”‚ Precondition: Instances Ä‘ang hoáº¡t Ä‘á»™ng                                          â”‚
â”‚ Trigger: Cron job cháº¡y má»—i 1 phÃºt                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Job láº¥y danh sÃ¡ch instances vá»›i status = ACTIVE                             â”‚
â”‚ 2. Vá»›i má»—i instance:                                                           â”‚
â”‚    a. Check Kubernetes pod status                                              â”‚
â”‚    b. Call health endpoint cá»§a tá»«ng service                                    â”‚
â”‚    c. Thu tháº­p metrics:                                                        â”‚
â”‚       - CPU usage                                                              â”‚
â”‚       - Memory usage                                                           â”‚
â”‚       - Disk usage                                                             â”‚
â”‚       - Request latency                                                        â”‚
â”‚       - Error rate                                                             â”‚
â”‚    d. LÆ°u metrics vÃ o database                                                 â”‚
â”‚ 3. Náº¿u phÃ¡t hiá»‡n issue:                                                        â”‚
â”‚    a. Pod crashed â†’ Trigger auto-restart                                       â”‚
â”‚    b. High resource usage â†’ Alert Admin                                        â”‚
â”‚    c. Service unhealthy â†’ Alert vÃ  xem xÃ©t restart                             â”‚
â”‚ 4. Cáº­p nháº­t dashboard monitoring                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Metrics Ä‘Æ°á»£c thu tháº­p, issues Ä‘Æ°á»£c phÃ¡t hiá»‡n                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-MAINT-03: Suspend/Resume instance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MAINT-03: Suspend/Resume instance                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Admin (hoáº·c System khi quÃ¡ háº¡n thanh toÃ¡n)                               â”‚
â”‚ Precondition: Instance Ä‘ang ACTIVE hoáº·c SUSPENDED                               â”‚
â”‚ Trigger: Admin action hoáº·c payment overdue                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow (Suspend):                                                            â”‚
â”‚ 1. Admin chá»n instance cáº§n suspend                                             â”‚
â”‚ 2. Há»‡ thá»‘ng xÃ¡c nháº­n action                                                    â”‚
â”‚ 3. Thá»±c hiá»‡n:                                                                  â”‚
â”‚    a. Scale deployments to 0 replicas                                          â”‚
â”‚    b. Giá»¯ nguyÃªn database vÃ  data                                              â”‚
â”‚    c. Update instance status = SUSPENDED                                       â”‚
â”‚ 4. ThÃ´ng bÃ¡o cho customer                                                      â”‚
â”‚                                                                                 â”‚
â”‚ Main Flow (Resume):                                                             â”‚
â”‚ 1. Admin chá»n instance cáº§n resume                                              â”‚
â”‚ 2. Há»‡ thá»‘ng xÃ¡c nháº­n payment status                                            â”‚
â”‚ 3. Thá»±c hiá»‡n:                                                                  â”‚
â”‚    a. Scale deployments back to normal                                         â”‚
â”‚    b. Wait for pods healthy                                                    â”‚
â”‚    c. Update instance status = ACTIVE                                          â”‚
â”‚ 4. ThÃ´ng bÃ¡o cho customer                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Instance Ä‘Ã£ Ä‘Æ°á»£c suspend/resume                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 4: KITEHUB - AI AGENT MODULE

## 4.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Tá»± Ä‘á»™ng táº¡o marketing assets tá»« áº£nh khÃ¡ch hÃ ng |
| **CÃ´ng nghá»‡** | Java Spring Boot + External AI APIs (OpenAI, Stability, Remove.bg) |
| **Database** | PostgreSQL - Schema: ai_assets |
| **Actors** | System (triggered by order) |

## 4.2. Use Cases

### UC-AI-01: Generate marketing assets tá»« áº£nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-AI-01: Generate marketing assets tá»« áº£nh                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (Triggered after order paid)                                      â”‚
â”‚ Precondition: Order cÃ³ upload áº£nh                                               â”‚
â”‚ Trigger: Event ORDER_PAID                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Nháº­n event ORDER_PAID vá»›i order_id                                          â”‚
â”‚ 2. Láº¥y thÃ´ng tin Ä‘Æ¡n hÃ ng:                                                     â”‚
â”‚    - Original image URL                                                        â”‚
â”‚    - Organization name                                                         â”‚
â”‚    - Slogan (náº¿u cÃ³)                                                           â”‚
â”‚    - Brand colors (náº¿u cÃ³)                                                     â”‚
â”‚ 3. Táº¡o generation job vá»›i status = QUEUED                                      â”‚
â”‚ 4. Process image:                                                              â”‚
â”‚    a. Download original image                                                  â”‚
â”‚    b. Call Remove.bg API â†’ Background removed image                            â”‚
â”‚    c. Extract dominant colors (náº¿u chÆ°a cÃ³ brand colors)                       â”‚
â”‚    d. Generate variations: circle, square crops                                â”‚
â”‚ 5. Generate text copy (GPT-4):                                                 â”‚
â”‚    - Hero headline                                                             â”‚
â”‚    - Sub-headline                                                              â”‚
â”‚    - CTA text                                                                  â”‚
â”‚    - Section headlines                                                         â”‚
â”‚ 6. Generate images (Stable Diffusion SDXL):                                    â”‚
â”‚    a. Hero banner (1920x600)                                                   â”‚
â”‚    b. About banner (1200x400)                                                  â”‚
â”‚    c. Courses banner (1200x400)                                                â”‚
â”‚    d. Contact banner (1200x400)                                                â”‚
â”‚ 7. Generate logo variants:                                                     â”‚
â”‚    - Primary logo (with org name)                                              â”‚
â”‚    - Secondary logo (alt colors)                                               â”‚
â”‚    - Icon only                                                                 â”‚
â”‚ 8. Generate OG image (1200x630)                                                â”‚
â”‚ 9. Upload all assets to CDN (S3/R2)                                            â”‚
â”‚ 10. Save asset URLs to database                                                â”‚
â”‚ 11. Update job status = COMPLETED                                              â”‚
â”‚ 12. Publish event AI_ASSETS_READY                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 4b. Remove.bg API fails:                                                       â”‚
â”‚     - Retry up to 3 times                                                      â”‚
â”‚     - If still fails, use fallback: auto-crop without background removal       â”‚
â”‚                                                                                 â”‚
â”‚ 6a. SDXL generation fails:                                                     â”‚
â”‚     - Retry with different seed                                                â”‚
â”‚     - If still fails, use template-based fallback                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Output Assets:                                                                  â”‚
â”‚ - 3 profile variations (circle, square, original cutout)                       â”‚
â”‚ - 1 hero banner                                                                â”‚
â”‚ - 3 section banners                                                            â”‚
â”‚ - 3 logo variants                                                              â”‚
â”‚ - 1 OG image                                                                   â”‚
â”‚ - Marketing copy JSON                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Assets sáºµn sÃ ng cho provisioning                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-AI-02: Preview Website trÆ°á»›c khi Provisioning

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-AI-02: Preview Website trÆ°á»›c khi Provisioning                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer (Chá»§ trung tÃ¢m Ä‘Ã£ mua gÃ³i)                                      â”‚
â”‚ Precondition: AI Assets Ä‘Ã£ generate xong (status = COMPLETED)                   â”‚
â”‚ Trigger: Customer nháº­n notification "Xem trÆ°á»›c website cá»§a báº¡n"                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Customer nháº­n email/notification vá»›i link preview                            â”‚
â”‚ 2. Customer click link â†’ /portal/preview/{order_id}                            â”‚
â”‚ 3. Há»‡ thá»‘ng render preview website vá»›i AI-generated assets:                    â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚  PREVIEW MODE                    [Chá»‰nh sá»­a] [Cháº¥p nháº­n & Tiáº¿p tá»¥c] â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚    â”‚  â”‚  [Logo AI]  TRUNG TÃ‚M ACME ACADEMY        [Menu] [LiÃªn há»‡]    â”‚ â”‚     â”‚
â”‚    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚     â”‚
â”‚    â”‚  â”‚                                                                 â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•‘     [AI-GENERATED HERO BANNER]        â•‘            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•‘                                        â•‘            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•‘   "Headline AI-generated"              â•‘            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•‘   Sub-headline AI-generated            â•‘            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•‘                                        â•‘            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•‘          [CTA Button]                  â•‘            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚           â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•            â”‚ â”‚     â”‚
â”‚    â”‚  â”‚                                                                 â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  Vá»€ CHÃšNG TÃ”I                                                  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  â”‚ [AI About Banner]  â”‚  AI-generated description text     â”‚  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚                                                                 â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  KHÃ“A Há»ŒC                                                      â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  â”‚ [AI Course Banner]                                       â”‚  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚     â”‚
â”‚    â”‚  â”‚                                                                 â”‚ â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  Preview Pages:  [ğŸ  Home âœ“] [ğŸ“š Courses] [ğŸ“ Contact] [â„¹ï¸ About]  â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 4. Customer cÃ³ thá»ƒ:                                                            â”‚
â”‚    a. Preview cÃ¡c trang: Home, Courses, Contact, About                        â”‚
â”‚    b. Click [Chá»‰nh sá»­a] â†’ Má»Ÿ form chá»‰nh sá»­a assets:                           â”‚
â”‚       - Thay Ä‘á»•i headline/sub-headline text                                    â”‚
â”‚       - Upload láº¡i áº£nh gá»‘c â†’ Re-generate                                       â”‚
â”‚       - Chá»n color scheme khÃ¡c                                                 â”‚
â”‚    c. Click [Cháº¥p nháº­n & Tiáº¿p tá»¥c] â†’ Confirm vÃ  tiáº¿n hÃ nh provisioning        â”‚
â”‚                                                                                 â”‚
â”‚ 5. Náº¿u Customer chá»n [Cháº¥p nháº­n & Tiáº¿p tá»¥c]:                                  â”‚
â”‚    - Há»‡ thá»‘ng lÆ°u approval status                                              â”‚
â”‚    - Trigger event PREVIEW_APPROVED                                            â”‚
â”‚    - Tiáº¿n hÃ nh provisioning instance vá»›i assets Ä‘Ã£ approved                    â”‚
â”‚    - Redirect Ä‘áº¿n trang "Äang khá»Ÿi táº¡o há»‡ thá»‘ng..."                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 4b. Customer yÃªu cáº§u Re-generate:                                              â”‚
â”‚     - Upload áº£nh má»›i hoáº·c thay Ä‘á»•i thÃ´ng tin                                   â”‚
â”‚     - System trigger AI_REGENERATE job                                         â”‚
â”‚     - Customer chá» vÃ  preview láº¡i                                              â”‚
â”‚     - Giá»›i háº¡n: Tá»‘i Ä‘a 3 láº§n re-generate miá»…n phÃ­                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Customer Ä‘Ã£ approve website design, sáºµn sÃ ng provisioning        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 4B: KITEHUB - AUTHENTICATION & AUTHORIZATION

## 4B.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | XÃ¡c thá»±c vÃ  phÃ¢n quyá»n cho KiteHub platform |
| **CÃ´ng nghá»‡** | Java Spring Boot + Spring Security + JWT |
| **Database** | PostgreSQL - Schema: auth |
| **Actors** | Customer, Admin, Agent |

## 4B.2. Use Cases

### UC-HUB-AUTH-01: Customer ÄÄƒng kÃ½ tÃ i khoáº£n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-AUTH-01: Customer ÄÄƒng kÃ½ tÃ i khoáº£n                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer (KhÃ¡ch hÃ ng má»›i)                                                â”‚
â”‚ Precondition: ChÆ°a cÃ³ tÃ i khoáº£n trÃªn há»‡ thá»‘ng                                   â”‚
â”‚ Trigger: Customer click "ÄÄƒng kÃ½" trÃªn landing page                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Customer truy cáº­p /register                                                 â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ form Ä‘Äƒng kÃ½:                                             â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                    ÄÄ‚NG KÃ TÃ€I KHOáº¢N KITECLASS                      â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  TÃªn trung tÃ¢m: ________________________________                    â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  Email: ________________________________                            â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  Sá»‘ Ä‘iá»‡n thoáº¡i: ________________________________                    â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  Máº­t kháº©u: ________________________________                         â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  XÃ¡c nháº­n máº­t kháº©u: ________________________________                â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ HOáº¶C â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  [ğŸ”µ ÄÄƒng kÃ½ vá»›i Google]                                            â”‚     â”‚
â”‚    â”‚  [ğŸ“˜ ÄÄƒng kÃ½ vá»›i Facebook]                                          â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â–¡ TÃ´i Ä‘á»“ng Ã½ vá»›i Äiá»u khoáº£n sá»­ dá»¥ng vÃ  ChÃ­nh sÃ¡ch báº£o máº­t         â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚                    [ÄÄƒng kÃ½]                                         â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  ÄÃ£ cÃ³ tÃ i khoáº£n? [ÄÄƒng nháº­p]                                       â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. Customer Ä‘iá»n thÃ´ng tin vÃ  submit                                           â”‚
â”‚ 4. Há»‡ thá»‘ng validate:                                                          â”‚
â”‚    - Email chÆ°a tá»“n táº¡i                                                        â”‚
â”‚    - Password Ä‘á»§ máº¡nh (min 8 chars, cÃ³ sá»‘, cÃ³ chá»¯ hoa)                         â”‚
â”‚    - Phone format Ä‘Ãºng                                                         â”‚
â”‚ 5. Táº¡o tÃ i khoáº£n vá»›i status = PENDING_VERIFICATION                             â”‚
â”‚ 6. Gá»­i email xÃ¡c thá»±c vá»›i link /verify-email?token=xxx                         â”‚
â”‚ 7. Hiá»ƒn thá»‹ thÃ´ng bÃ¡o "Vui lÃ²ng kiá»ƒm tra email Ä‘á»ƒ xÃ¡c thá»±c"                    â”‚
â”‚ 8. Customer click link xÃ¡c thá»±c trong email                                    â”‚
â”‚ 9. Há»‡ thá»‘ng verify token vÃ  update status = ACTIVE                             â”‚
â”‚ 10. Redirect Ä‘áº¿n trang Ä‘Äƒng nháº­p vá»›i message "XÃ¡c thá»±c thÃ nh cÃ´ng"             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow - OAuth:                                                       â”‚
â”‚ 3a. Customer chá»n "ÄÄƒng kÃ½ vá»›i Google/Facebook":                               â”‚
â”‚     - Redirect Ä‘áº¿n OAuth provider                                               â”‚
â”‚     - Nháº­n authorization code                                                   â”‚
â”‚     - Exchange code for tokens                                                  â”‚
â”‚     - Láº¥y user info tá»« provider                                                 â”‚
â”‚     - Táº¡o tÃ i khoáº£n vá»›i email tá»« OAuth, status = ACTIVE (Ä‘Ã£ verify)            â”‚
â”‚     - Redirect Ä‘áº¿n /portal                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Customer cÃ³ tÃ i khoáº£n Ä‘Ã£ xÃ¡c thá»±c, cÃ³ thá»ƒ Ä‘Äƒng nháº­p              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-HUB-AUTH-02: ÄÄƒng nháº­p há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-AUTH-02: ÄÄƒng nháº­p há»‡ thá»‘ng                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer, Admin, Agent                                                   â”‚
â”‚ Precondition: User Ä‘Ã£ cÃ³ tÃ i khoáº£n active                                       â”‚
â”‚ Trigger: User truy cáº­p trang yÃªu cáº§u authentication                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p /login hoáº·c bá»‹ redirect tá»« protected route                    â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ form Ä‘Äƒng nháº­p:                                           â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                         ÄÄ‚NG NHáº¬P                                    â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  Email: ________________________________                            â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  Máº­t kháº©u: ________________________________                         â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â–¡ Ghi nhá»› Ä‘Äƒng nháº­p                    [QuÃªn máº­t kháº©u?]            â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚                    [ÄÄƒng nháº­p]                                       â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ HOáº¶C â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  [ğŸ”µ ÄÄƒng nháº­p vá»›i Google]                                          â”‚     â”‚
â”‚    â”‚  [ğŸ“˜ ÄÄƒng nháº­p vá»›i Facebook]                                        â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  ChÆ°a cÃ³ tÃ i khoáº£n? [ÄÄƒng kÃ½ ngay]                                  â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. User nháº­p credentials vÃ  submit                                             â”‚
â”‚ 4. Há»‡ thá»‘ng authenticate:                                                      â”‚
â”‚    - Verify email exists                                                        â”‚
â”‚    - Check password hash                                                        â”‚
â”‚    - Check account status = ACTIVE                                              â”‚
â”‚    - Check khÃ´ng bá»‹ locked (failed attempts < 5)                                â”‚
â”‚ 5. Generate JWT tokens:                                                         â”‚
â”‚    - Access token (15 min expiry)                                               â”‚
â”‚    - Refresh token (7 days expiry, stored in httpOnly cookie)                   â”‚
â”‚ 6. Log login event (IP, device, timestamp)                                      â”‚
â”‚ 7. Redirect based on role:                                                      â”‚
â”‚    - Customer â†’ /portal                                                         â”‚
â”‚    - Admin â†’ /admin                                                             â”‚
â”‚    - Agent â†’ /admin/support                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ JWT Token Structure:                                                            â”‚
â”‚ {                                                                               â”‚
â”‚   "sub": "user-uuid",                                                          â”‚
â”‚   "email": "user@example.com",                                                 â”‚
â”‚   "name": "Nguyá»…n VÄƒn A",                                                      â”‚
â”‚   "role": "CUSTOMER",           // CUSTOMER | ADMIN | AGENT                    â”‚
â”‚   "permissions": ["portal:access", "billing:view", ...],                       â”‚
â”‚   "iat": 1703145600,                                                           â”‚
â”‚   "exp": 1703146500                                                            â”‚
â”‚ }                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow - Failed Login:                                                â”‚
â”‚ 4a. Sai password:                                                               â”‚
â”‚     - Increment failed_attempts                                                 â”‚
â”‚     - Náº¿u >= 5: Lock account 15 phÃºt                                            â”‚
â”‚     - Hiá»ƒn thá»‹ "Sai email hoáº·c máº­t kháº©u"                                        â”‚
â”‚ 4b. Account bá»‹ locked:                                                          â”‚
â”‚     - Hiá»ƒn thá»‹ "TÃ i khoáº£n bá»‹ khÃ³a, thá»­ láº¡i sau X phÃºt"                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: User Ä‘Ã£ Ä‘Äƒng nháº­p, cÃ³ JWT token Ä‘á»ƒ access protected resources    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-HUB-AUTH-03: PhÃ¢n quyá»n truy cáº­p

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-AUTH-03: PhÃ¢n quyá»n truy cáº­p                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System                                                                   â”‚
â”‚ Precondition: User Ä‘Ã£ cÃ³ JWT token                                              â”‚
â”‚ Trigger: User request Ä‘áº¿n protected resource                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User gá»­i request vá»›i Authorization: Bearer {token}                          â”‚
â”‚ 2. Auth middleware intercept request                                           â”‚
â”‚ 3. Validate JWT token:                                                          â”‚
â”‚    - Verify signature                                                           â”‚
â”‚    - Check expiry                                                               â”‚
â”‚    - Extract claims (user_id, role, permissions)                                â”‚
â”‚ 4. Check authorization:                                                         â”‚
â”‚    - Route yÃªu cáº§u permission gÃ¬?                                               â”‚
â”‚    - User cÃ³ permission Ä‘Ã³ khÃ´ng?                                               â”‚
â”‚ 5. Náº¿u authorized: Forward request Ä‘áº¿n handler                                  â”‚
â”‚ 6. Náº¿u unauthorized: Return 403 Forbidden                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Role-Permission Matrix:                                                         â”‚
â”‚                                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚ â”‚ Permission         â”‚ CUSTOMER â”‚ AGENT â”‚ ADMIN â”‚                              â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚ â”‚ portal:access      â”‚    âœ“     â”‚   âœ“   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ portal:billing     â”‚    âœ“     â”‚   â”€   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ support:chat       â”‚    âœ“     â”‚   âœ“   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ support:manage     â”‚    â”€     â”‚   âœ“   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ admin:dashboard    â”‚    â”€     â”‚   âœ“   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ admin:instances    â”‚    â”€     â”‚   â”€   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ admin:customers    â”‚    â”€     â”‚   â”€   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ admin:settings     â”‚    â”€     â”‚   â”€   â”‚   âœ“   â”‚                              â”‚
â”‚ â”‚ ai:regenerate      â”‚    âœ“*    â”‚   â”€   â”‚   âœ“   â”‚  * max 3 times              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Request Ä‘Æ°á»£c forward hoáº·c bá»‹ reject tÃ¹y authorization            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 4C: KITECLASS - API GATEWAY

## 4C.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | API Gateway cho má»—i KiteClass Instance |
| **CÃ´ng nghá»‡** | Spring Cloud Gateway |
| **Chá»©c nÄƒng** | Routing, Auth, Rate Limiting, CORS, Load Balancing |
| **Actors** | All KiteClass users (thÃ´ng qua Frontend) |

## 4C.2. Use Cases

### UC-GW-01: JWT Token Validation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-GW-01: JWT Token Validation                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Any authenticated user                                                   â”‚
â”‚ Precondition: User cÃ³ JWT token tá»« User Service                                 â”‚
â”‚ Trigger: User gá»­i request Ä‘áº¿n báº¥t ká»³ protected API                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Client gá»­i request:                                                          â”‚
â”‚    GET /api/classes                                                             â”‚
â”‚    Authorization: Bearer eyJhbGciOiJIUzI1NiIs...                               â”‚
â”‚                                                                                 â”‚
â”‚ 2. Gateway Filter Chain:                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚  Request â†’ [CORS] â†’ [Auth] â†’ [RateLimit] â†’ [Route] â†’ Backend       â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. Auth Filter xá»­ lÃ½:                                                           â”‚
â”‚    a. Extract token tá»« Authorization header                                     â”‚
â”‚    b. Verify JWT signature vá»›i public key                                       â”‚
â”‚    c. Check token expiry                                                        â”‚
â”‚    d. Extract claims: user_id, roles, permissions, tenant_id                    â”‚
â”‚    e. Inject user info vÃ o request headers:                                     â”‚
â”‚       X-User-Id: uuid-123                                                       â”‚
â”‚       X-User-Roles: CENTER_ADMIN,TEACHER                                        â”‚
â”‚       X-Tenant-Id: tenant-uuid                                                  â”‚
â”‚                                                                                 â”‚
â”‚ 4. Forward request Ä‘áº¿n target service vá»›i enriched headers                      â”‚
â”‚ 5. Backend service trust headers tá»« Gateway (internal network)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Token Validation Flow:                                                          â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚    â”‚  Client  â”‚â”€â”€â”€â”€â”€â–¶â”‚ Gateway  â”‚â”€â”€â”€â”€â”€â–¶â”‚   Auth   â”‚â”€â”€â”€â”€â”€â–¶â”‚ Backend  â”‚         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  Filter  â”‚      â”‚ Service  â”‚         â”‚
â”‚         â”‚                 â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                 â”‚                 â”‚                  â”‚               â”‚
â”‚         â”‚   JWT Token     â”‚   Verify JWT    â”‚                  â”‚               â”‚
â”‚         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚               â”‚
â”‚         â”‚                 â”‚                 â”‚                  â”‚               â”‚
â”‚         â”‚                 â”‚   Valid + Claimsâ”‚                  â”‚               â”‚
â”‚         â”‚                 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚               â”‚
â”‚         â”‚                 â”‚                 â”‚                  â”‚               â”‚
â”‚         â”‚                 â”‚   Forward + X-User-* headers       â”‚               â”‚
â”‚         â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶               â”‚
â”‚         â”‚                 â”‚                                     â”‚               â”‚
â”‚         â”‚                 â”‚              Response               â”‚               â”‚
â”‚         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow - Invalid Token:                                               â”‚
â”‚ 3a. Token expired:                                                              â”‚
â”‚     - Return 401 Unauthorized                                                   â”‚
â”‚     - Response: {"error": "Token expired", "code": "TOKEN_EXPIRED"}            â”‚
â”‚     - Client should refresh token                                               â”‚
â”‚                                                                                 â”‚
â”‚ 3b. Token invalid/tampered:                                                     â”‚
â”‚     - Return 401 Unauthorized                                                   â”‚
â”‚     - Response: {"error": "Invalid token", "code": "INVALID_TOKEN"}            â”‚
â”‚     - Log security event                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Request Ä‘Æ°á»£c authenticate vÃ  forward vá»›i user context            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-GW-02: Rate Limiting

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-GW-02: Rate Limiting                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Any user/client                                                          â”‚
â”‚ Precondition: KhÃ´ng                                                             â”‚
â”‚ Trigger: Má»—i request Ä‘áº¿n Gateway                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Request Ä‘áº¿n Gateway                                                          â”‚
â”‚ 2. Rate Limit Filter check:                                                     â”‚
â”‚    a. Identify client: IP address hoáº·c User ID (náº¿u authenticated)             â”‚
â”‚    b. Lookup counter trong Redis                                                â”‚
â”‚    c. Apply rate limit rules                                                    â”‚
â”‚                                                                                 â”‚
â”‚ 3. Rate Limit Configuration:                                                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    â”‚  Endpoint Pattern      â”‚  Limit      â”‚  Window  â”‚  Key             â”‚      â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚    â”‚  /api/**               â”‚  100 req    â”‚  1 min   â”‚  user_id         â”‚      â”‚
â”‚    â”‚  /api/auth/login       â”‚  5 req      â”‚  1 min   â”‚  IP              â”‚      â”‚
â”‚    â”‚  /api/media/upload     â”‚  10 req     â”‚  1 hour  â”‚  user_id         â”‚      â”‚
â”‚    â”‚  /api/*/export         â”‚  5 req      â”‚  1 hour  â”‚  user_id         â”‚      â”‚
â”‚    â”‚  Public endpoints      â”‚  1000 req   â”‚  1 min   â”‚  IP              â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                                 â”‚
â”‚ 4. Náº¿u within limit:                                                            â”‚
â”‚    - Increment counter                                                          â”‚
â”‚    - Add response headers:                                                      â”‚
â”‚      X-RateLimit-Limit: 100                                                     â”‚
â”‚      X-RateLimit-Remaining: 87                                                  â”‚
â”‚      X-RateLimit-Reset: 1703145660                                              â”‚
â”‚    - Forward request                                                            â”‚
â”‚                                                                                 â”‚
â”‚ 5. Náº¿u exceeded:                                                                â”‚
â”‚    - Return 429 Too Many Requests                                               â”‚
â”‚    - Add header: Retry-After: 45                                                â”‚
â”‚    - Log rate limit event                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Request Ä‘Æ°á»£c rate limit hoáº·c rejected náº¿u vÆ°á»£t quota             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-GW-03: Request Routing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-GW-03: Request Routing                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Any client                                                               â”‚
â”‚ Precondition: Request Ä‘Ã£ pass Auth vÃ  Rate Limit filters                        â”‚
â”‚ Trigger: Request cáº§n Ä‘Æ°á»£c route Ä‘áº¿n backend service                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Gateway nháº­n request vá»›i path pattern                                        â”‚
â”‚ 2. Match route configuration:                                                   â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    â”‚  Path Pattern              â”‚  Target Service    â”‚  Strip Prefix    â”‚      â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚    â”‚  /api/users/**             â”‚  user-service      â”‚  /api/users      â”‚      â”‚
â”‚    â”‚  /api/auth/**              â”‚  user-service      â”‚  /api/auth       â”‚      â”‚
â”‚    â”‚  /api/classes/**           â”‚  core-service      â”‚  /api/classes    â”‚      â”‚
â”‚    â”‚  /api/courses/**           â”‚  core-service      â”‚  /api/courses    â”‚      â”‚
â”‚    â”‚  /api/attendance/**        â”‚  core-service      â”‚  /api/attendance â”‚      â”‚
â”‚    â”‚  /api/billing/**           â”‚  core-service      â”‚  /api/billing    â”‚      â”‚
â”‚    â”‚  /api/gamification/**      â”‚  core-service      â”‚  /api/gamificationâ”‚     â”‚
â”‚    â”‚  /api/parent/**            â”‚  core-service      â”‚  /api/parent     â”‚      â”‚
â”‚    â”‚  /api/media/**             â”‚  media-service     â”‚  /api/media      â”‚      â”‚
â”‚    â”‚  /api/stream/**            â”‚  media-service     â”‚  /api/stream     â”‚      â”‚
â”‚    â”‚  /ws/**                    â”‚  media-service     â”‚  (WebSocket)     â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                                 â”‚
â”‚ 3. Route transformation:                                                        â”‚
â”‚    Input:  GET /api/classes/123/students                                        â”‚
â”‚    Output: GET http://core-service:8080/123/students                            â”‚
â”‚                                                                                 â”‚
â”‚ 4. Load balancing (náº¿u cÃ³ multiple instances):                                  â”‚
â”‚    - Round-robin giá»¯a cÃ¡c healthy instances                                     â”‚
â”‚    - Health check: /actuator/health má»—i 30s                                     â”‚
â”‚                                                                                 â”‚
â”‚ 5. Forward request vá»›i:                                                         â”‚
â”‚    - Original query params                                                      â”‚
â”‚    - Original body                                                              â”‚
â”‚    - Enriched headers (X-User-*, X-Request-Id, X-Forwarded-*)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Request Ä‘Æ°á»£c route Ä‘áº¿n Ä‘Ãºng backend service                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 5: KITECLASS - CORE SERVICE

## 5.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Service chÃ­nh quáº£n lÃ½ nghiá»‡p vá»¥ giÃ¡o dá»¥c |
| **CÃ´ng nghá»‡** | Java Spring Boot |
| **Database** | PostgreSQL (instance-specific) |
| **Modules** | Class, Learning, Billing, Gamification, Parent, Forum |
| **Actors** | CENTER_OWNER, CENTER_ADMIN, TEACHER, STUDENT, PARENT |

## 5.2. CLASS MODULE - Use Cases

### UC-CLASS-01: Táº¡o khÃ³a há»c má»›i

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-CLASS-01: Táº¡o khÃ³a há»c má»›i                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: CENTER_OWNER, CENTER_ADMIN                                               â”‚
â”‚ Precondition: User Ä‘Ã£ Ä‘Äƒng nháº­p vá»›i quyá»n course:create                         â”‚
â”‚ Trigger: User chá»n "Táº¡o khÃ³a há»c má»›i"                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p /admin/courses/new                                            â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ form:                                                     â”‚
â”‚    - TÃªn khÃ³a há»c (*)                                                          â”‚
â”‚    - MÃ´ táº£                                                                     â”‚
â”‚    - Danh má»¥c                                                                  â”‚
â”‚    - áº¢nh thumbnail                                                             â”‚
â”‚    - Há»c phÃ­ Ä‘á» xuáº¥t                                                           â”‚
â”‚    - Sá»‘ buá»•i dá»± kiáº¿n                                                           â”‚
â”‚ 3. User Ä‘iá»n thÃ´ng tin vÃ  submit                                               â”‚
â”‚ 4. Há»‡ thá»‘ng validate vÃ  lÆ°u khÃ³a há»c                                           â”‚
â”‚ 5. Redirect Ä‘áº¿n trang chi tiáº¿t khÃ³a há»c                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: KhÃ³a há»c Ä‘Æ°á»£c táº¡o, sáºµn sÃ ng má»Ÿ lá»›p                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-CLASS-02: Táº¡o lá»›p há»c tá»« khÃ³a há»c

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-CLASS-02: Táº¡o lá»›p há»c tá»« khÃ³a há»c                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: CENTER_OWNER, CENTER_ADMIN                                               â”‚
â”‚ Precondition: CÃ³ khÃ³a há»c, cÃ³ giÃ¡o viÃªn                                         â”‚
â”‚ Trigger: User chá»n "Má»Ÿ lá»›p má»›i"                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User chá»n khÃ³a há»c muá»‘n má»Ÿ lá»›p                                              â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ form:                                                     â”‚
â”‚    - TÃªn lá»›p (VD: ToÃ¡n 10A - KhÃ³a 1/2025)                                      â”‚
â”‚    - GiÃ¡o viÃªn phá»¥ trÃ¡ch (*)                                                   â”‚
â”‚    - NgÃ y báº¯t Ä‘áº§u (*)                                                          â”‚
â”‚    - Lá»‹ch há»c (chá»n thá»© + giá»)                                                 â”‚
â”‚    - PhÃ²ng há»c                                                                 â”‚
â”‚    - SÄ© sá»‘ tá»‘i Ä‘a                                                              â”‚
â”‚    - Há»c phÃ­ lá»›p (káº¿ thá»«a tá»« khÃ³a há»c hoáº·c custom)                             â”‚
â”‚    - CÃ¡ch tÃ­nh phÃ­: FIXED (cá»‘ Ä‘á»‹nh) / PER_SESSION (theo buá»•i)                  â”‚
â”‚ 3. User Ä‘iá»n thÃ´ng tin vÃ  submit                                               â”‚
â”‚ 4. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Validate khÃ´ng trÃ¹ng lá»‹ch giÃ¡o viÃªn                                      â”‚
â”‚    b. Validate khÃ´ng trÃ¹ng lá»‹ch phÃ²ng                                          â”‚
â”‚    c. Táº¡o lá»›p há»c                                                              â”‚
â”‚    d. Auto-generate lá»‹ch há»c theo recurring                                    â”‚
â”‚    e. Táº¡o config há»c phÃ­ cho lá»›p                                               â”‚
â”‚ 5. ThÃ´ng bÃ¡o thÃ nh cÃ´ng, redirect Ä‘áº¿n trang lá»›p                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 4a. TrÃ¹ng lá»‹ch giÃ¡o viÃªn:                                                      â”‚
â”‚     - Hiá»ƒn thá»‹ cáº£nh bÃ¡o                                                        â”‚
â”‚     - Gá»£i Ã½ lá»‹ch trá»‘ng cá»§a giÃ¡o viÃªn                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Lá»›p há»c Ä‘Æ°á»£c táº¡o, cÃ³ lá»‹ch há»c, sáºµn sÃ ng nháº­n há»c viÃªn            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-CLASS-03: ThÃªm há»c viÃªn vÃ o lá»›p

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-CLASS-03: ThÃªm há»c viÃªn vÃ o lá»›p                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: CENTER_OWNER, CENTER_ADMIN                                               â”‚
â”‚ Precondition: Lá»›p há»c Ä‘Ã£ táº¡o, há»c viÃªn Ä‘Ã£ cÃ³ trong há»‡ thá»‘ng                     â”‚
â”‚ Trigger: User chá»n "ThÃªm há»c viÃªn"                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p trang lá»›p há»c > Tab "Há»c viÃªn"                                â”‚
â”‚ 2. User click "ThÃªm há»c viÃªn"                                                  â”‚
â”‚ 3. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - Search box tÃ¬m há»c viÃªn                                                   â”‚
â”‚    - Danh sÃ¡ch há»c viÃªn chÆ°a thuá»™c lá»›p nÃ o                                     â”‚
â”‚ 4. User tÃ¬m vÃ  chá»n há»c viÃªn                                                   â”‚
â”‚ 5. User xÃ¡c nháº­n thÃªm                                                          â”‚
â”‚ 6. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Kiá»ƒm tra sÄ© sá»‘ chÆ°a Ä‘áº¡t max                                              â”‚
â”‚    b. ThÃªm há»c viÃªn vÃ o lá»›p                                                    â”‚
â”‚    c. Tá»± Ä‘á»™ng táº¡o enrollment record                                            â”‚
â”‚    d. Khá»Ÿi táº¡o Ä‘iá»ƒm tÃ­ch lÅ©y cho há»c viÃªn (Gamification)                       â”‚
â”‚    e. Táº¡o liÃªn káº¿t Ä‘á»ƒ phá»¥ huynh Ä‘Äƒng kÃ½ (náº¿u chÆ°a cÃ³)                          â”‚
â”‚ 7. Cáº­p nháº­t danh sÃ¡ch lá»›p                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Há»c viÃªn thuá»™c lá»›p, cÃ³ thá»ƒ Ä‘iá»ƒm danh                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.3. LEARNING MODULE - Use Cases

### UC-LEARN-01: Äiá»ƒm danh buá»•i há»c

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-LEARN-01: Äiá»ƒm danh buá»•i há»c                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: TEACHER, CENTER_ADMIN                                                    â”‚
â”‚ Precondition: CÃ³ buá»•i há»c trong ngÃ y, giÃ¡o viÃªn Ä‘Æ°á»£c phÃ¢n cÃ´ng                  â”‚
â”‚ Trigger: GiÃ¡o viÃªn má»Ÿ trang Ä‘iá»ƒm danh                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. GiÃ¡o viÃªn truy cáº­p /teacher/attendance                                      â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch lá»›p hÃ´m nay                                     â”‚
â”‚ 3. GiÃ¡o viÃªn chá»n lá»›p cáº§n Ä‘iá»ƒm danh                                            â”‚
â”‚ 4. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - ThÃ´ng tin buá»•i há»c (ngÃ y, giá», phÃ²ng)                                     â”‚
â”‚    - Danh sÃ¡ch há»c viÃªn vá»›i checkbox                                           â”‚
â”‚    - Tráº¡ng thÃ¡i: CÃ³ máº·t / Váº¯ng cÃ³ phÃ©p / Váº¯ng khÃ´ng phÃ©p                       â”‚
â”‚ 5. GiÃ¡o viÃªn Ä‘Ã¡nh dáº¥u tá»«ng há»c viÃªn                                            â”‚
â”‚ 6. GiÃ¡o viÃªn cÃ³ thá»ƒ thÃªm ghi chÃº cho tá»«ng há»c viÃªn                             â”‚
â”‚ 7. GiÃ¡o viÃªn submit Ä‘iá»ƒm danh                                                  â”‚
â”‚ 8. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. LÆ°u attendance records                                                   â”‚
â”‚    b. Trigger Gamification: +10 Ä‘iá»ƒm cho há»c viÃªn cÃ³ máº·t                       â”‚
â”‚    c. Trigger Notification: Gá»­i thÃ´ng bÃ¡o cho phá»¥ huynh (váº¯ng)                 â”‚
â”‚    d. Cáº­p nháº­t thá»‘ng kÃª Ä‘iá»ƒm danh                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Buá»•i há»c Ä‘Ã£ Ä‘iá»ƒm danh, phá»¥ huynh Ä‘Æ°á»£c thÃ´ng bÃ¡o                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-LEARN-02: Nháº­p Ä‘iá»ƒm kiá»ƒm tra

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-LEARN-02: Nháº­p Ä‘iá»ƒm kiá»ƒm tra                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: TEACHER                                                                  â”‚
â”‚ Precondition: CÃ³ bÃ i kiá»ƒm tra Ä‘Ã£ táº¡o                                            â”‚
â”‚ Trigger: GiÃ¡o viÃªn muá»‘n nháº­p Ä‘iá»ƒm                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. GiÃ¡o viÃªn truy cáº­p /teacher/grades                                          â”‚
â”‚ 2. Chá»n lá»›p vÃ  bÃ i kiá»ƒm tra                                                    â”‚
â”‚ 3. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - ThÃ´ng tin bÃ i kiá»ƒm tra (tÃªn, ngÃ y, há»‡ sá»‘)                                 â”‚
â”‚    - Báº£ng nháº­p Ä‘iá»ƒm vá»›i danh sÃ¡ch há»c viÃªn                                     â”‚
â”‚ 4. GiÃ¡o viÃªn nháº­p Ä‘iá»ƒm cho tá»«ng há»c viÃªn (0-10)                                â”‚
â”‚ 5. GiÃ¡o viÃªn cÃ³ thá»ƒ thÃªm nháº­n xÃ©t                                              â”‚
â”‚ 6. GiÃ¡o viÃªn submit                                                            â”‚
â”‚ 7. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Validate Ä‘iá»ƒm há»£p lá»‡                                                     â”‚
â”‚    b. LÆ°u Ä‘iá»ƒm vÃ  tÃ­nh Ä‘iá»ƒm trung bÃ¬nh                                         â”‚
â”‚    c. Trigger Gamification:                                                    â”‚
â”‚       - Äiá»ƒm >= 8: +30 Ä‘iá»ƒm                                                    â”‚
â”‚       - Äiá»ƒm = 10: +50 Ä‘iá»ƒm (bonus)                                            â”‚
â”‚    d. Trigger Notification: Gá»­i cho phá»¥ huynh                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Äiá»ƒm Ä‘Ã£ nháº­p, phá»¥ huynh Ä‘Æ°á»£c thÃ´ng bÃ¡o                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-LEARN-03: Giao vÃ  cháº¥m bÃ i táº­p

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-LEARN-03: Giao vÃ  cháº¥m bÃ i táº­p                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: TEACHER (giao), STUDENT (ná»™p), TEACHER (cháº¥m)                            â”‚
â”‚ Precondition: Lá»›p há»c Ä‘ang hoáº¡t Ä‘á»™ng                                            â”‚
â”‚ Trigger: GiÃ¡o viÃªn muá»‘n giao bÃ i táº­p                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚                                                                                 â”‚
â”‚ [Giao bÃ i táº­p - TEACHER]                                                       â”‚
â”‚ 1. GiÃ¡o viÃªn táº¡o bÃ i táº­p má»›i:                                                  â”‚
â”‚    - TiÃªu Ä‘á»                                                                   â”‚
â”‚    - MÃ´ táº£ / hÆ°á»›ng dáº«n                                                         â”‚
â”‚    - File Ä‘Ã­nh kÃ¨m (náº¿u cÃ³)                                                    â”‚
â”‚    - Deadline ná»™p bÃ i                                                          â”‚
â”‚ 2. Há»‡ thá»‘ng táº¡o bÃ i táº­p vÃ  thÃ´ng bÃ¡o há»c viÃªn                                  â”‚
â”‚                                                                                 â”‚
â”‚ [Ná»™p bÃ i - STUDENT]                                                            â”‚
â”‚ 3. Há»c viÃªn xem bÃ i táº­p trong /student/assignments                             â”‚
â”‚ 4. Há»c viÃªn lÃ m bÃ i vÃ  upload file                                             â”‚
â”‚ 5. Há»c viÃªn submit trÆ°á»›c deadline                                              â”‚
â”‚ 6. Há»‡ thá»‘ng ghi nháº­n submission                                                â”‚
â”‚                                                                                 â”‚
â”‚ [Cháº¥m bÃ i - TEACHER]                                                           â”‚
â”‚ 7. GiÃ¡o viÃªn xem danh sÃ¡ch submissions                                         â”‚
â”‚ 8. Vá»›i má»—i bÃ i:                                                                â”‚
â”‚    - Review ná»™i dung                                                           â”‚
â”‚    - Cháº¥m Ä‘iá»ƒm (0-10)                                                          â”‚
â”‚    - Viáº¿t nháº­n xÃ©t                                                             â”‚
â”‚ 9. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    - LÆ°u Ä‘iá»ƒm vÃ  feedback                                                      â”‚
â”‚    - Trigger Gamification: +20 Ä‘iá»ƒm (ná»™p Ä‘Ãºng háº¡n)                             â”‚
â”‚    - ThÃ´ng bÃ¡o há»c viÃªn vÃ  phá»¥ huynh                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: BÃ i táº­p Ä‘Ã£ cháº¥m, káº¿t quáº£ Ä‘Æ°á»£c thÃ´ng bÃ¡o                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.4. BILLING MODULE - Use Cases

### UC-BILL-01: Táº¡o hÃ³a Ä‘Æ¡n há»c phÃ­ tá»± Ä‘á»™ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-BILL-01: Táº¡o hÃ³a Ä‘Æ¡n há»c phÃ­ tá»± Ä‘á»™ng                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (Scheduled Job)                                                   â”‚
â”‚ Precondition: Cuá»‘i thÃ¡ng                                                        â”‚
â”‚ Trigger: Cron job ngÃ y cuá»‘i má»—i thÃ¡ng                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Job cháº¡y lÃºc 00:00 ngÃ y cuá»‘i thÃ¡ng                                          â”‚
â”‚ 2. Láº¥y danh sÃ¡ch lá»›p há»c Ä‘ang hoáº¡t Ä‘á»™ng                                        â”‚
â”‚ 3. Vá»›i má»—i lá»›p:                                                                â”‚
â”‚    a. Láº¥y config há»c phÃ­ (FIXED / PER_SESSION)                                 â”‚
â”‚    b. Láº¥y danh sÃ¡ch há»c viÃªn                                                   â”‚
â”‚    c. Vá»›i má»—i há»c viÃªn:                                                        â”‚
â”‚       - TÃ­nh sá»‘ buá»•i trong thÃ¡ng                                               â”‚
â”‚       - TÃ­nh sá»‘ buá»•i Ä‘Ã£ Ä‘i há»c (tá»« attendance)                                 â”‚
â”‚       - TÃ­nh há»c phÃ­:                                                          â”‚
â”‚         + FIXED: Há»c phÃ­ cá»‘ Ä‘á»‹nh                                               â”‚
â”‚         + PER_SESSION: Sá»‘ buá»•i Ä‘i Ã— ÄÆ¡n giÃ¡                                    â”‚
â”‚       - Ãp dá»¥ng giáº£m giÃ¡ (náº¿u cÃ³)                                              â”‚
â”‚       - Táº¡o invoice record                                                     â”‚
â”‚       - Generate QR Code VietQR                                                â”‚
â”‚ 4. Gá»­i thÃ´ng bÃ¡o cho phá»¥ huynh (batch)                                         â”‚
â”‚ 5. Log káº¿t quáº£                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: HÃ³a Ä‘Æ¡n thÃ¡ng Ä‘Ã£ táº¡o, phá»¥ huynh Ä‘Æ°á»£c thÃ´ng bÃ¡o                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-BILL-02: Xem vÃ  thanh toÃ¡n hÃ³a Ä‘Æ¡n (Phá»¥ huynh)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-BILL-02: Xem vÃ  thanh toÃ¡n hÃ³a Ä‘Æ¡n (Phá»¥ huynh)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: PARENT                                                                   â”‚
â”‚ Precondition: Phá»¥ huynh Ä‘Ã£ Ä‘Äƒng nháº­p, cÃ³ hÃ³a Ä‘Æ¡n chÆ°a thanh toÃ¡n                â”‚
â”‚ Trigger: Phá»¥ huynh truy cáº­p trang há»c phÃ­                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Phá»¥ huynh truy cáº­p /parent/billing                                          â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - Danh sÃ¡ch hÃ³a Ä‘Æ¡n theo con                                                â”‚
â”‚    - Filter: Táº¥t cáº£ / ChÆ°a thanh toÃ¡n / ÄÃ£ thanh toÃ¡n                          â”‚
â”‚ 3. Phá»¥ huynh click vÃ o hÃ³a Ä‘Æ¡n cáº§n xem                                         â”‚
â”‚ 4. Há»‡ thá»‘ng hiá»ƒn thá»‹ chi tiáº¿t:                                                 â”‚
â”‚    - ThÃ´ng tin há»c viÃªn, lá»›p há»c                                               â”‚
â”‚    - Chi tiáº¿t tÃ­nh phÃ­ (sá»‘ buá»•i, Ä‘Æ¡n giÃ¡, giáº£m giÃ¡)                            â”‚
â”‚    - Tá»•ng tiá»n cáº§n Ä‘Ã³ng                                                        â”‚
â”‚    - QR Code thanh toÃ¡n                                                        â”‚
â”‚    - ThÃ´ng tin chuyá»ƒn khoáº£n                                                    â”‚
â”‚ 5. Phá»¥ huynh quÃ©t QR báº±ng app ngÃ¢n hÃ ng                                        â”‚
â”‚ 6. Phá»¥ huynh chuyá»ƒn khoáº£n                                                      â”‚
â”‚ 7. Sau khi Ä‘á»‘i soÃ¡t, hÃ³a Ä‘Æ¡n chuyá»ƒn status = PAID                              â”‚
â”‚ 8. Há»‡ thá»‘ng gá»­i xÃ¡c nháº­n                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 5a. Thanh toÃ¡n tiá»n máº·t:                                                       â”‚
â”‚     - Phá»¥ huynh Ä‘Ã³ng táº¡i trung tÃ¢m                                             â”‚
â”‚     - NhÃ¢n viÃªn cáº­p nháº­t thanh toÃ¡n thá»§ cÃ´ng                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: HÃ³a Ä‘Æ¡n Ä‘Ã£ thanh toÃ¡n                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-BILL-03: Thu tiá»n vÃ  Ä‘á»‘i soÃ¡t thá»§ cÃ´ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-BILL-03: Thu tiá»n vÃ  Ä‘á»‘i soÃ¡t thá»§ cÃ´ng                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: CENTER_ADMIN                                                             â”‚
â”‚ Precondition: CÃ³ hÃ³a Ä‘Æ¡n chÆ°a thanh toÃ¡n                                        â”‚
â”‚ Trigger: Phá»¥ huynh Ä‘Ã³ng tiá»n máº·t hoáº·c chuyá»ƒn khoáº£n                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Admin truy cáº­p /admin/billing                                               â”‚
â”‚ 2. TÃ¬m hÃ³a Ä‘Æ¡n theo há»c viÃªn hoáº·c mÃ£ hÃ³a Ä‘Æ¡n                                   â”‚
â”‚ 3. Click "Thu tiá»n"                                                            â”‚
â”‚ 4. Nháº­p thÃ´ng tin:                                                             â”‚
â”‚    - Sá»‘ tiá»n thu                                                               â”‚
â”‚    - PhÆ°Æ¡ng thá»©c (tiá»n máº·t / chuyá»ƒn khoáº£n)                                     â”‚
â”‚    - MÃ£ giao dá»‹ch (náº¿u chuyá»ƒn khoáº£n)                                           â”‚
â”‚    - Ghi chÃº                                                                   â”‚
â”‚ 5. Admin xÃ¡c nháº­n                                                              â”‚
â”‚ 6. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Táº¡o payment record                                                       â”‚
â”‚    b. Cáº­p nháº­t invoice (paid_amount, status)                                   â”‚
â”‚    c. Cáº­p nháº­t cÃ´ng ná»£ há»c viÃªn                                                â”‚
â”‚    d. Gá»­i xÃ¡c nháº­n cho phá»¥ huynh                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 4a. Thanh toÃ¡n má»™t pháº§n:                                                       â”‚
â”‚     - Nháº­p sá»‘ tiá»n < tá»•ng hÃ³a Ä‘Æ¡n                                              â”‚
â”‚     - Status chuyá»ƒn thÃ nh PARTIAL                                              â”‚
â”‚     - CÃ²n ná»£ = Tá»•ng - ÄÃ£ Ä‘Ã³ng                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Thanh toÃ¡n Ä‘Æ°á»£c ghi nháº­n                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.5. GAMIFICATION MODULE - Use Cases

### UC-GAME-01: TÃ­ch Ä‘iá»ƒm tá»± Ä‘á»™ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-GAME-01: TÃ­ch Ä‘iá»ƒm tá»± Ä‘á»™ng                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (Event-driven)                                                    â”‚
â”‚ Precondition: CÃ³ event há»c táº­p phÃ¡t sinh                                        â”‚
â”‚ Trigger: Events tá»« Learning Module                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Learning Module publish event (VD: ATTENDANCE_MARKED)                       â”‚
â”‚ 2. Gamification Module nháº­n event                                              â”‚
â”‚ 3. XÃ¡c Ä‘á»‹nh loáº¡i action vÃ  tra cá»©u point_rules                                 â”‚
â”‚ 4. TÃ­nh Ä‘iá»ƒm:                                                                  â”‚
â”‚    - Base points tá»« rule                                                       â”‚
â”‚    - Check bonus conditions                                                    â”‚
â”‚ 5. Cáº­p nháº­t student_points                                                     â”‚
â”‚ 6. Insert point_history                                                        â”‚
â”‚ 7. Check badge achievements:                                                   â”‚
â”‚    - Náº¿u Ä‘áº¡t Ä‘iá»u kiá»‡n badge má»›i â†’ Award badge                                 â”‚
â”‚ 8. Notify student vá» Ä‘iá»ƒm vá»«a nháº­n                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VÃ­ dá»¥ Events:                                                                   â”‚
â”‚ - ATTENDANCE_MARKED: +10 pts (cÃ³ máº·t), +15 pts (Ä‘Ãºng giá»)                      â”‚
â”‚ - ASSIGNMENT_SUBMITTED: +20 pts (Ä‘Ãºng háº¡n)                                     â”‚
â”‚ - TEST_GRADED: +30 pts (>=8), +50 pts (=10)                                    â”‚
â”‚ - VIDEO_COMPLETED: +15 pts                                                     â”‚
â”‚ - STREAK_7_DAYS: +100 pts bonus                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Äiá»ƒm há»c viÃªn Ä‘Æ°á»£c cáº­p nháº­t                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-GAME-02: Äá»•i Ä‘iá»ƒm láº¥y quÃ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-GAME-02: Äá»•i Ä‘iá»ƒm láº¥y quÃ                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: STUDENT                                                                  â”‚
â”‚ Precondition: Há»c viÃªn cÃ³ Ä‘iá»ƒm kháº£ dá»¥ng                                         â”‚
â”‚ Trigger: Há»c viÃªn truy cáº­p Reward Store                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Há»c viÃªn truy cáº­p /student/rewards                                          â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - Äiá»ƒm hiá»‡n cÃ³: 1,500 pts                                                   â”‚
â”‚    - Danh sÃ¡ch quÃ  cÃ³ thá»ƒ Ä‘á»•i                                                  â”‚
â”‚ 3. Há»c viÃªn chá»n quÃ  muá»‘n Ä‘á»•i                                                  â”‚
â”‚ 4. Há»‡ thá»‘ng kiá»ƒm tra:                                                          â”‚
â”‚    - Äá»§ Ä‘iá»ƒm?                                                                  â”‚
â”‚    - QuÃ  cÃ²n sá»‘ lÆ°á»£ng?                                                         â”‚
â”‚ 5. Há»c viÃªn xÃ¡c nháº­n Ä‘á»•i                                                       â”‚
â”‚ 6. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Trá»« Ä‘iá»ƒm tá»« available_points                                             â”‚
â”‚    b. Cá»™ng vÃ o used_points                                                     â”‚
â”‚    c. Táº¡o reward_exchange record (status = PENDING)                            â”‚
â”‚    d. Giáº£m quantity cá»§a reward                                                 â”‚
â”‚    e. Notify Admin Ä‘á»ƒ duyá»‡t                                                    â”‚
â”‚ 7. Hiá»ƒn thá»‹ mÃ£ Ä‘á»•i quÃ  cho há»c viÃªn                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tiáº¿p theo (Admin duyá»‡t):                                                       â”‚
â”‚ 8. Admin xem danh sÃ¡ch exchange requests                                       â”‚
â”‚ 9. Admin duyá»‡t vÃ  Ä‘Ã¡nh dáº¥u Ä‘Ã£ phÃ¡t quÃ                                          â”‚
â”‚ 10. Status chuyá»ƒn thÃ nh DELIVERED                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Äiá»ƒm Ä‘Ã£ trá»«, quÃ  Ä‘Ã£ Ä‘á»•i                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-GAME-03: Xem báº£ng xáº¿p háº¡ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-GAME-03: Xem báº£ng xáº¿p háº¡ng                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: STUDENT, TEACHER, PARENT                                                 â”‚
â”‚ Precondition: KhÃ´ng                                                             â”‚
â”‚ Trigger: User truy cáº­p leaderboard                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p /leaderboard                                                  â”‚
â”‚ 2. Chá»n pháº¡m vi:                                                               â”‚
â”‚    - Theo lá»›p (chá»‰ lá»›p cá»§a mÃ¬nh)                                               â”‚
â”‚    - ToÃ n trÆ°á»ng                                                               â”‚
â”‚ 3. Chá»n thá»i gian:                                                             â”‚
â”‚    - Tuáº§n nÃ y                                                                  â”‚
â”‚    - ThÃ¡ng nÃ y                                                                 â”‚
â”‚    - Táº¥t cáº£ thá»i gian                                                          â”‚
â”‚ 4. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    - Top 10 há»c viÃªn (rank, tÃªn, Ä‘iá»ƒm, thÃ nh tÃ­ch ná»•i báº­t)                     â”‚
â”‚    - Vá»‹ trÃ­ cá»§a báº£n thÃ¢n (náº¿u lÃ  há»c viÃªn)                                     â”‚
â”‚ 5. Click vÃ o há»c viÃªn Ä‘á»ƒ xem profile cÃ´ng khai                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: User xem Ä‘Æ°á»£c báº£ng xáº¿p háº¡ng                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.6. PARENT MODULE - Use Cases

### UC-PARENT-01: Phá»¥ huynh tá»± Ä‘Äƒng kÃ½ qua Zalo OTP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-PARENT-01: Phá»¥ huynh tá»± Ä‘Äƒng kÃ½ qua Zalo OTP                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: PARENT (chÆ°a cÃ³ tÃ i khoáº£n)                                               â”‚
â”‚ Precondition: CÃ³ link Ä‘Äƒng kÃ½ tá»« trung tÃ¢m                                      â”‚
â”‚ Trigger: Phá»¥ huynh má»Ÿ link Ä‘Äƒng kÃ½                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Admin/Teacher táº¡o link Ä‘Äƒng kÃ½ cho há»c viÃªn                                 â”‚
â”‚    Link: https://acme.kiteclass.com/parent/register?student=ABC123             â”‚
â”‚ 2. Gá»­i link cho phá»¥ huynh (Zalo, SMS, email)                                   â”‚
â”‚ 3. Phá»¥ huynh má»Ÿ link                                                           â”‚
â”‚ 4. Há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng tin há»c viÃªn vÃ  form:                               â”‚
â”‚    - Há» tÃªn phá»¥ huynh (*)                                                      â”‚
â”‚    - Sá»‘ Ä‘iá»‡n thoáº¡i Zalo (*)                                                    â”‚
â”‚    - Quan há»‡ (Bá»‘/Máº¹/NgÆ°á»i giÃ¡m há»™)                                             â”‚
â”‚ 5. Phá»¥ huynh nháº­p thÃ´ng tin vÃ  submit                                          â”‚
â”‚ 6. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Validate sá»‘ Ä‘iá»‡n thoáº¡i                                                   â”‚
â”‚    b. Generate OTP 6 sá»‘                                                        â”‚
â”‚    c. Call Zalo OA API gá»­i OTP                                                 â”‚
â”‚ 7. Phá»¥ huynh nháº­n OTP qua Zalo                                                 â”‚
â”‚ 8. Phá»¥ huynh nháº­p OTP trÃªn web                                                 â”‚
â”‚ 9. Há»‡ thá»‘ng verify OTP:                                                        â”‚
â”‚    a. Táº¡o tÃ i khoáº£n PARENT                                                     â”‚
â”‚    b. LiÃªn káº¿t vá»›i student_id                                                  â”‚
â”‚    c. Gá»­i welcome message                                                      â”‚
â”‚ 10. Redirect Ä‘áº¿n Parent Dashboard                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 6a. Sá»‘ Ä‘iá»‡n thoáº¡i Ä‘Ã£ Ä‘Äƒng kÃ½:                                                  â”‚
â”‚     - ThÃ´ng bÃ¡o Ä‘Ã£ cÃ³ tÃ i khoáº£n                                                â”‚
â”‚     - Gá»£i Ã½ Ä‘Äƒng nháº­p                                                          â”‚
â”‚ 8a. OTP sai/háº¿t háº¡n:                                                           â”‚
â”‚     - Cho phÃ©p gá»­i láº¡i OTP (max 3 láº§n)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: TÃ i khoáº£n phá»¥ huynh Ä‘Æ°á»£c táº¡o vÃ  liÃªn káº¿t                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-PARENT-02: Xem thÃ´ng tin há»c táº­p cá»§a con

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-PARENT-02: Xem thÃ´ng tin há»c táº­p cá»§a con                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: PARENT                                                                   â”‚
â”‚ Precondition: Phá»¥ huynh Ä‘Ã£ Ä‘Äƒng nháº­p, cÃ³ liÃªn káº¿t vá»›i há»c viÃªn                  â”‚
â”‚ Trigger: Phá»¥ huynh truy cáº­p Dashboard                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Phá»¥ huynh Ä‘Äƒng nháº­p vÃ o Parent Portal                                       â”‚
â”‚ 2. Dashboard hiá»ƒn thá»‹ danh sÃ¡ch con em                                         â”‚
â”‚ 3. Phá»¥ huynh chá»n con muá»‘n xem                                                 â”‚
â”‚ 4. Há»‡ thá»‘ng hiá»ƒn thá»‹:                                                          â”‚
â”‚    a. ThÃ´ng tin cÆ¡ báº£n:                                                        â”‚
â”‚       - TÃªn, lá»›p, giÃ¡o viÃªn phá»¥ trÃ¡ch                                          â”‚
â”‚    b. Äiá»ƒm danh:                                                               â”‚
â”‚       - Tá»· lá»‡ Ä‘iá»ƒm danh thÃ¡ng nÃ y: 95%                                         â”‚
â”‚       - Lá»‹ch sá»­ Ä‘iá»ƒm danh                                                      â”‚
â”‚    c. Äiá»ƒm sá»‘:                                                                 â”‚
â”‚       - Äiá»ƒm trung bÃ¬nh: 8.5                                                   â”‚
â”‚       - Danh sÃ¡ch bÃ i kiá»ƒm tra vÃ  Ä‘iá»ƒm                                         â”‚
â”‚    d. BÃ i táº­p:                                                                 â”‚
â”‚       - BÃ i táº­p chÆ°a ná»™p                                                       â”‚
â”‚       - BÃ i táº­p Ä‘Ã£ cháº¥m                                                        â”‚
â”‚    e. Äiá»ƒm tÃ­ch lÅ©y:                                                           â”‚
â”‚       - Tá»•ng Ä‘iá»ƒm: 1,500 pts                                                   â”‚
â”‚       - Huy hiá»‡u Ä‘Ã£ Ä‘áº¡t                                                        â”‚
â”‚    f. Lá»‹ch há»c tuáº§n nÃ y                                                        â”‚
â”‚ 5. Phá»¥ huynh cÃ³ thá»ƒ:                                                           â”‚
â”‚    - Xem chi tiáº¿t tá»«ng má»¥c                                                     â”‚
â”‚    - Táº£i bÃ¡o cÃ¡o há»c táº­p                                                       â”‚
â”‚    - LiÃªn há»‡ giÃ¡o viÃªn                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Phá»¥ huynh náº¯m Ä‘Æ°á»£c tÃ¬nh hÃ¬nh há»c táº­p cá»§a con                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-PARENT-03: Nháº­n thÃ´ng bÃ¡o tá»« trung tÃ¢m

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-PARENT-03: Nháº­n thÃ´ng bÃ¡o tá»« trung tÃ¢m                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: PARENT                                                                   â”‚
â”‚ Precondition: Phá»¥ huynh Ä‘Ã£ Ä‘Äƒng kÃ½ tÃ i khoáº£n                                    â”‚
â”‚ Trigger: CÃ³ sá»± kiá»‡n cáº§n thÃ´ng bÃ¡o                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CÃ¡c loáº¡i thÃ´ng bÃ¡o:                                                             â”‚
â”‚                                                                                 â”‚
â”‚ 1. ATTENDANCE:                                                                 â”‚
â”‚    - "Con báº¡n Ä‘Ã£ cÃ³ máº·t táº¡i lá»›p hÃ´m nay"                                       â”‚
â”‚    - "Con báº¡n váº¯ng buá»•i há»c ngÃ y hÃ´m nay"                                      â”‚
â”‚                                                                                 â”‚
â”‚ 2. GRADE:                                                                      â”‚
â”‚    - "Con báº¡n Ä‘áº¡t 9 Ä‘iá»ƒm bÃ i kiá»ƒm tra ToÃ¡n"                                    â”‚
â”‚    - "BÃ i táº­p VÄƒn Ä‘Ã£ Ä‘Æ°á»£c cháº¥m Ä‘iá»ƒm"                                           â”‚
â”‚                                                                                 â”‚
â”‚ 3. INVOICE:                                                                    â”‚
â”‚    - "HÃ³a Ä‘Æ¡n há»c phÃ­ thÃ¡ng 12 Ä‘Ã£ Ä‘Æ°á»£c táº¡o"                                    â”‚
â”‚    - "Nháº¯c nhá»Ÿ: HÃ³a Ä‘Æ¡n sáº¯p Ä‘áº¿n háº¡n thanh toÃ¡n"                                â”‚
â”‚                                                                                 â”‚
â”‚ 4. GENERAL:                                                                    â”‚
â”‚    - "ThÃ´ng bÃ¡o nghá»‰ lá»… Táº¿t NguyÃªn ÄÃ¡n"                                        â”‚
â”‚    - "Lá»‹ch thi há»c ká»³ Ä‘Ã£ cáº­p nháº­t"                                             â”‚
â”‚                                                                                 â”‚
â”‚ KÃªnh gá»­i:                                                                       â”‚
â”‚ - Push notification (App)                                                      â”‚
â”‚ - Zalo OA Message                                                              â”‚
â”‚ - Email                                                                        â”‚
â”‚ - In-app notification                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Phá»¥ huynh nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o ká»‹p thá»i                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.7. FORUM MODULE - Use Cases

### UC-FORUM-01: Äáº·t cÃ¢u há»i trÃªn diá»…n Ä‘Ã n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-FORUM-01: Äáº·t cÃ¢u há»i trÃªn diá»…n Ä‘Ã n                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: STUDENT, TEACHER                                                         â”‚
â”‚ Precondition: User Ä‘Ã£ Ä‘Äƒng nháº­p                                                 â”‚
â”‚ Trigger: User muá»‘n há»i vá» bÃ i há»c                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p /forum                                                        â”‚
â”‚ 2. Chá»n danh má»¥c (theo lá»›p hoáº·c chá»§ Ä‘á»)                                        â”‚
â”‚ 3. Click "Äáº·t cÃ¢u há»i má»›i"                                                     â”‚
â”‚ 4. Nháº­p:                                                                       â”‚
â”‚    - TiÃªu Ä‘á» cÃ¢u há»i                                                           â”‚
â”‚    - Ná»™i dung chi tiáº¿t                                                         â”‚
â”‚    - ÄÃ­nh kÃ¨m áº£nh/file (náº¿u cáº§n)                                               â”‚
â”‚ 5. Submit cÃ¢u há»i                                                              â”‚
â”‚ 6. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Táº¡o topic má»›i                                                            â”‚
â”‚    b. Notify giÃ¡o viÃªn phá»¥ trÃ¡ch lá»›p                                           â”‚
â”‚    c. Trigger Gamification: +5 pts                                             â”‚
â”‚ 7. CÃ¢u há»i hiá»ƒn thá»‹ trÃªn forum                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: CÃ¢u há»i Ä‘Æ°á»£c Ä‘Äƒng, giÃ¡o viÃªn Ä‘Æ°á»£c thÃ´ng bÃ¡o                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 6: KITECLASS - USER SERVICE

## 6.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Authentication, Authorization, User Management |
| **CÃ´ng nghá»‡** | Java Spring Boot + Spring Security |
| **Database** | PostgreSQL - Schema: user_module |
| **Actors** | All users |

## 6.2. Use Cases

### UC-USER-01: ÄÄƒng nháº­p há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-USER-01: ÄÄƒng nháº­p há»‡ thá»‘ng                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: All users (CENTER_OWNER, ADMIN, TEACHER, STUDENT, PARENT)                â”‚
â”‚ Precondition: CÃ³ tÃ i khoáº£n trong há»‡ thá»‘ng                                       â”‚
â”‚ Trigger: User truy cáº­p trang login                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p /login                                                        â”‚
â”‚ 2. Nháº­p email vÃ  password                                                      â”‚
â”‚ 3. Submit form                                                                 â”‚
â”‚ 4. User Service:                                                               â”‚
â”‚    a. Validate credentials                                                     â”‚
â”‚    b. Check account status (active, suspended)                                 â”‚
â”‚    c. Generate JWT access token (1h expiry)                                    â”‚
â”‚    d. Generate refresh token (7 days expiry)                                   â”‚
â”‚    e. Log login event                                                          â”‚
â”‚ 5. Return tokens                                                               â”‚
â”‚ 6. Frontend lÆ°u token vÃ  redirect Ä‘áº¿n dashboard phÃ¹ há»£p vá»›i role               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 4a. Sai password:                                                              â”‚
â”‚     - TÄƒng failed_attempts                                                     â”‚
â”‚     - Náº¿u >= 5 láº§n â†’ Lock account 30 phÃºt                                      â”‚
â”‚     - Return error "Invalid credentials"                                       â”‚
â”‚                                                                                 â”‚
â”‚ 4b. Account suspended:                                                         â”‚
â”‚     - Return error "Account suspended"                                         â”‚
â”‚     - Gá»£i Ã½ liÃªn há»‡ admin                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: User Ä‘Ã£ Ä‘Äƒng nháº­p, cÃ³ JWT token                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-USER-02: OAuth2 Social Login (Google)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-USER-02: OAuth2 Social Login (Google)                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: All users                                                                â”‚
â”‚ Precondition: CÃ³ tÃ i khoáº£n Google                                               â”‚
â”‚ Trigger: User click "ÄÄƒng nháº­p vá»›i Google"                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User click "ÄÄƒng nháº­p vá»›i Google"                                           â”‚
â”‚ 2. Redirect Ä‘áº¿n Google OAuth consent screen                                    â”‚
â”‚ 3. User chá»n tÃ i khoáº£n Google vÃ  authorize                                     â”‚
â”‚ 4. Google redirect vá» /auth/google/callback vá»›i auth code                      â”‚
â”‚ 5. User Service:                                                               â”‚
â”‚    a. Exchange code for Google tokens                                          â”‚
â”‚    b. Get user info tá»« Google                                                  â”‚
â”‚    c. TÃ¬m hoáº·c táº¡o user theo Google ID                                         â”‚
â”‚    d. Generate JWT tokens                                                      â”‚
â”‚ 6. Redirect Ä‘áº¿n dashboard vá»›i token                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alternative Flow:                                                               â”‚
â”‚ 5c. User chÆ°a tá»“n táº¡i vÃ  email chÆ°a Ä‘Æ°á»£c invite:                               â”‚
â”‚     - ThÃ´ng bÃ¡o cáº§n Ä‘Æ°á»£c má»i bá»Ÿi admin                                         â”‚
â”‚     - KhÃ´ng tá»± Ä‘á»™ng táº¡o tÃ i khoáº£n                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: User Ä‘Äƒng nháº­p thÃ nh cÃ´ng                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-USER-03: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (Admin)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-USER-03: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (Admin)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: CENTER_OWNER, CENTER_ADMIN                                               â”‚
â”‚ Precondition: Admin Ä‘Ã£ Ä‘Äƒng nháº­p                                                â”‚
â”‚ Trigger: Admin truy cáº­p trang quáº£n lÃ½ user                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Admin truy cáº­p /admin/users                                                 â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch users vá»›i filter:                               â”‚
â”‚    - Theo role                                                                 â”‚
â”‚    - Theo status                                                               â”‚
â”‚    - Search by name/email                                                      â”‚
â”‚ 3. Admin cÃ³ thá»ƒ:                                                               â”‚
â”‚    a. ThÃªm user má»›i (má»i qua email)                                            â”‚
â”‚    b. Sá»­a thÃ´ng tin user                                                       â”‚
â”‚    c. Thay Ä‘á»•i role                                                            â”‚
â”‚    d. Suspend/Activate user                                                    â”‚
â”‚    e. Reset password                                                           â”‚
â”‚    f. Xem activity log                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Users Ä‘Æ°á»£c quáº£n lÃ½                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-USER-04: PhÃ¢n quyá»n (Authorization)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-USER-04: PhÃ¢n quyá»n (Authorization)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: System (on every request)                                                â”‚
â”‚ Precondition: User Ä‘Ã£ authenticate                                              â”‚
â”‚ Trigger: User gá»i API                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Request Ä‘áº¿n API Gateway                                                     â”‚
â”‚ 2. Gateway extract JWT tá»« header                                               â”‚
â”‚ 3. Gateway validate JWT signature vÃ  expiry                                    â”‚
â”‚ 4. Gateway extract user info vÃ  roles                                          â”‚
â”‚ 5. Forward request vá»›i headers:                                                â”‚
â”‚    - X-User-Id                                                                 â”‚
â”‚    - X-User-Email                                                              â”‚
â”‚    - X-User-Roles                                                              â”‚
â”‚    - X-Tenant-Id                                                               â”‚
â”‚ 6. Target service:                                                             â”‚
â”‚    a. Check @RequirePermission annotation                                      â”‚
â”‚    b. Check @RequireRole annotation                                            â”‚
â”‚    c. Check resource-level access (náº¿u cáº§n)                                    â”‚
â”‚ 7. Náº¿u authorized â†’ Process request                                            â”‚
â”‚ 8. Náº¿u unauthorized â†’ Return 403 Forbidden                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Request Ä‘Æ°á»£c authorize hoáº·c reject                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 7: KITECLASS - MEDIA SERVICE

## 7.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Video upload, transcode, streaming |
| **CÃ´ng nghá»‡** | Node.js + FFmpeg + WebSocket |
| **Storage** | S3/CloudFlare R2 |
| **Actors** | TEACHER, STUDENT |

## 7.2. Use Cases

### UC-MEDIA-01: Upload video bÃ i giáº£ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MEDIA-01: Upload video bÃ i giáº£ng                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: TEACHER                                                                  â”‚
â”‚ Precondition: GiÃ¡o viÃªn Ä‘Æ°á»£c phÃ¢n cÃ´ng lá»›p                                      â”‚
â”‚ Trigger: GiÃ¡o viÃªn muá»‘n upload video                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. GiÃ¡o viÃªn truy cáº­p /teacher/videos                                          â”‚
â”‚ 2. Click "Upload video má»›i"                                                    â”‚
â”‚ 3. Nháº­p thÃ´ng tin:                                                             â”‚
â”‚    - TiÃªu Ä‘á» video                                                             â”‚
â”‚    - MÃ´ táº£                                                                     â”‚
â”‚    - Lá»›p há»c liÃªn quan                                                         â”‚
â”‚    - File video (MP4, MOV, max 2GB)                                            â”‚
â”‚ 4. GiÃ¡o viÃªn upload file                                                       â”‚
â”‚ 5. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Validate file format vÃ  size                                             â”‚
â”‚    b. Upload to temporary storage                                              â”‚
â”‚    c. Queue transcoding job                                                    â”‚
â”‚ 6. Hiá»ƒn thá»‹ progress: "Äang xá»­ lÃ½ video..."                                    â”‚
â”‚ 7. Transcoding service:                                                        â”‚
â”‚    a. Generate multiple qualities (360p, 480p, 720p, 1080p)                    â”‚
â”‚    b. Generate HLS segments                                                    â”‚
â”‚    c. Generate thumbnail                                                       â”‚
â”‚    d. Upload processed files to CDN                                            â”‚
â”‚ 8. Cáº­p nháº­t video status = READY                                               â”‚
â”‚ 9. Notify giÃ¡o viÃªn                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Video sáºµn sÃ ng phÃ¡t                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-MEDIA-02: Xem video bÃ i giáº£ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MEDIA-02: Xem video bÃ i giáº£ng                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: STUDENT                                                                  â”‚
â”‚ Precondition: Há»c viÃªn thuá»™c lá»›p cÃ³ video                                       â”‚
â”‚ Trigger: Há»c viÃªn má»Ÿ video                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Há»c viÃªn truy cáº­p /student/videos                                           â”‚
â”‚ 2. Xem danh sÃ¡ch video cá»§a lá»›p                                                 â”‚
â”‚ 3. Click vÃ o video muá»‘n xem                                                    â”‚
â”‚ 4. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Check quyá»n truy cáº­p                                                     â”‚
â”‚    b. Generate signed URL (time-limited)                                       â”‚
â”‚    c. Load video player                                                        â”‚
â”‚ 5. Video player:                                                               â”‚
â”‚    a. Auto-detect network vÃ  chá»n quality phÃ¹ há»£p                              â”‚
â”‚    b. Load HLS stream                                                          â”‚
â”‚    c. Track watch progress                                                     â”‚
â”‚ 6. Khi xem xong (>= 90%):                                                      â”‚
â”‚    a. Mark video as completed                                                  â”‚
â”‚    b. Trigger Gamification: +15 pts                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Há»c viÃªn Ä‘Ã£ xem video, progress Ä‘Æ°á»£c track                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-MEDIA-03: PhÃ¡t trá»±c tiáº¿p buá»•i há»c

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-MEDIA-03: PhÃ¡t trá»±c tiáº¿p buá»•i há»c                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: TEACHER (host), STUDENT (viewer)                                         â”‚
â”‚ Precondition: CÃ³ lá»‹ch há»c, giÃ¡o viÃªn Ä‘Æ°á»£c phÃ¢n cÃ´ng                             â”‚
â”‚ Trigger: GiÃ¡o viÃªn báº¯t Ä‘áº§u live                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow (Teacher):                                                            â”‚
â”‚ 1. GiÃ¡o viÃªn truy cáº­p lá»›p há»c                                                  â”‚
â”‚ 2. Click "Báº¯t Ä‘áº§u Live"                                                        â”‚
â”‚ 3. Há»‡ thá»‘ng:                                                                   â”‚
â”‚    a. Táº¡o streaming session                                                    â”‚
â”‚    b. Generate stream key                                                      â”‚
â”‚    c. Setup WebRTC/RTMP ingest                                                 â”‚
â”‚ 4. GiÃ¡o viÃªn share screen vÃ /hoáº·c camera                                       â”‚
â”‚ 5. Há»‡ thá»‘ng notify há»c viÃªn "Buá»•i há»c Ä‘Ã£ báº¯t Ä‘áº§u"                              â”‚
â”‚                                                                                 â”‚
â”‚ Main Flow (Student):                                                            â”‚
â”‚ 6. Há»c viÃªn nháº­n notification                                                  â”‚
â”‚ 7. Click vÃ o notification                                                      â”‚
â”‚ 8. Há»‡ thá»‘ng load live player                                                   â”‚
â”‚ 9. Há»c viÃªn xem live vÃ  cÃ³ thá»ƒ:                                                â”‚
â”‚    - Chat real-time                                                            â”‚
â”‚    - Raise hand (giÆ¡ tay)                                                      â”‚
â”‚    - React (emoji)                                                             â”‚
â”‚                                                                                 â”‚
â”‚ Káº¿t thÃºc:                                                                       â”‚
â”‚ 10. GiÃ¡o viÃªn click "Káº¿t thÃºc Live"                                            â”‚
â”‚ 11. Há»‡ thá»‘ng:                                                                  â”‚
â”‚     a. Stop stream                                                             â”‚
â”‚     b. Process recording (náº¿u enabled)                                         â”‚
â”‚     c. Save as video resource                                                  â”‚
â”‚     d. Mark attendance cho nhá»¯ng ai join                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Buá»•i há»c live hoÃ n thÃ nh, cÃ³ recording                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 8: KITECLASS - FRONTEND

## 8.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Giao diá»‡n ngÆ°á»i dÃ¹ng multi-role |
| **CÃ´ng nghá»‡** | Next.js (React) + SSR |
| **UI Framework** | Tailwind CSS / Shadcn |
| **Actors** | All roles |

## 8.2. Use Cases theo Role

### UC-FE-01: Dashboard theo role

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-FE-01: Dashboard theo role                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: All authenticated users                                                  â”‚
â”‚ Precondition: User Ä‘Ã£ Ä‘Äƒng nháº­p                                                 â”‚
â”‚ Trigger: User access /dashboard                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. User truy cáº­p /dashboard                                                    â”‚
â”‚ 2. Frontend check JWT vÃ  extract role                                          â”‚
â”‚ 3. Render dashboard phÃ¹ há»£p:                                                   â”‚
â”‚                                                                                 â”‚
â”‚ CENTER_OWNER / CENTER_ADMIN:                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â€¢ Overview: Tá»•ng há»c viÃªn, lá»›p, doanh thu                                â”‚  â”‚
â”‚ â”‚ â€¢ Quick actions: Táº¡o lá»›p, thÃªm há»c viÃªn, táº¡o hÃ³a Ä‘Æ¡n                     â”‚  â”‚
â”‚ â”‚ â€¢ Charts: Doanh thu thÃ¡ng, tá»· lá»‡ Ä‘iá»ƒm danh                               â”‚  â”‚
â”‚ â”‚ â€¢ Alerts: CÃ´ng ná»£, sáº¯p háº¿t háº¡n gÃ³i                                        â”‚  â”‚
â”‚ â”‚ â€¢ Recent activities                                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚ TEACHER:                                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â€¢ Today's classes: Lá»‹ch dáº¡y hÃ´m nay                                      â”‚  â”‚
â”‚ â”‚ â€¢ Quick actions: Äiá»ƒm danh, nháº­p Ä‘iá»ƒm, upload video                      â”‚  â”‚
â”‚ â”‚ â€¢ My classes: Danh sÃ¡ch lá»›p phá»¥ trÃ¡ch                                    â”‚  â”‚
â”‚ â”‚ â€¢ Pending tasks: BÃ i táº­p chÆ°a cháº¥m, cÃ¢u há»i chÆ°a tráº£ lá»i                 â”‚  â”‚
â”‚ â”‚ â€¢ Calendar view                                                          â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚ STUDENT:                                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â€¢ My points: Äiá»ƒm tÃ­ch lÅ©y, badges                                       â”‚  â”‚
â”‚ â”‚ â€¢ Today's schedule: Lá»‹ch há»c hÃ´m nay                                     â”‚  â”‚
â”‚ â”‚ â€¢ Assignments: BÃ i táº­p cáº§n ná»™p                                           â”‚  â”‚
â”‚ â”‚ â€¢ Recent grades: Äiá»ƒm gáº§n Ä‘Ã¢y                                            â”‚  â”‚
â”‚ â”‚ â€¢ Quick access: Videos, Forum, Rewards                                   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚ PARENT:                                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â€¢ Children overview: Danh sÃ¡ch con                                       â”‚  â”‚
â”‚ â”‚ â€¢ Recent activities: Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y cá»§a con                           â”‚  â”‚
â”‚ â”‚ â€¢ Unpaid invoices: HÃ³a Ä‘Æ¡n chÆ°a thanh toÃ¡n                               â”‚  â”‚
â”‚ â”‚ â€¢ Notifications: ThÃ´ng bÃ¡o má»›i                                           â”‚  â”‚
â”‚ â”‚ â€¢ Quick contact: LiÃªn há»‡ giÃ¡o viÃªn                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: User tháº¥y dashboard phÃ¹ há»£p vá»›i role                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-FE-02: Responsive Multi-device Support

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-FE-02: Responsive Multi-device Support                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: All users                                                                â”‚
â”‚ Precondition: KhÃ´ng                                                             â”‚
â”‚ Trigger: User truy cáº­p tá»« báº¥t ká»³ device                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Device Support:                                                                 â”‚
â”‚                                                                                 â”‚
â”‚ Desktop (>= 1024px):                                                           â”‚
â”‚ â€¢ Full sidebar navigation                                                      â”‚
â”‚ â€¢ Multi-column layouts                                                         â”‚
â”‚ â€¢ Full data tables                                                             â”‚
â”‚ â€¢ Keyboard shortcuts                                                           â”‚
â”‚                                                                                 â”‚
â”‚ Tablet (768px - 1023px):                                                       â”‚
â”‚ â€¢ Collapsible sidebar                                                          â”‚
â”‚ â€¢ Adjusted layouts                                                             â”‚
â”‚ â€¢ Touch-friendly buttons                                                       â”‚
â”‚                                                                                 â”‚
â”‚ Mobile (< 768px):                                                              â”‚
â”‚ â€¢ Bottom navigation                                                            â”‚
â”‚ â€¢ Single column layout                                                         â”‚
â”‚ â€¢ Swipe gestures                                                               â”‚
â”‚ â€¢ Optimized for touch                                                          â”‚
â”‚ â€¢ PWA support (install to home screen)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: UI tá»‘i Æ°u cho tá»«ng loáº¡i device                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# PHáº¦N 9: KITEHUB - FRONTEND

## 9.1. Tá»•ng quan

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **MÃ´ táº£** | Giao diá»‡n website marketing, admin dashboard, customer portal |
| **CÃ´ng nghá»‡** | Next.js (React) + SSR/SSG |
| **UI Framework** | Tailwind CSS |
| **Actors** | Visitor, Customer, Admin, Agent |

## 9.2. Use Cases

### UC-HUB-FE-01: Landing Page & Marketing Website

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-FE-01: Landing Page & Marketing Website                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Visitor (KhÃ¡ch truy cáº­p)                                                 â”‚
â”‚ Precondition: KhÃ´ng                                                             â”‚
â”‚ Trigger: Visitor truy cáº­p https://kiteclass.com                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Visitor truy cáº­p trang chá»§                                                  â”‚
â”‚ 2. Há»‡ thá»‘ng render Landing Page vá»›i cÃ¡c sections:                              â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                         KITECLASS.COM                                â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚  [Logo]                    [TÃ­nh nÄƒng] [Báº£ng giÃ¡] [Demo] [ÄÄƒng nháº­p]â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚           QUáº¢N LÃ TRUNG TÃ‚M ÄÃ€O Táº O CHUYÃŠN NGHIá»†P                  â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚      Ná»n táº£ng all-in-one cho trung tÃ¢m giÃ¡o dá»¥c                    â”‚     â”‚
â”‚    â”‚      vá»›i AI-powered branding vÃ  quáº£n lÃ½ toÃ n diá»‡n                  â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚            [DÃ¹ng thá»­ miá»…n phÃ­]  [Xem Demo]                          â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚  TÃNH NÄ‚NG Ná»”I Báº¬T                                                  â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚    â”‚  â”‚Quáº£n lÃ½  â”‚ â”‚Äiá»ƒm danhâ”‚ â”‚Há»c phÃ­  â”‚ â”‚Phá»¥ huynhâ”‚ â”‚  Game   â”‚       â”‚     â”‚
â”‚    â”‚  â”‚Lá»›p há»c  â”‚ â”‚Äiá»ƒm sá»‘  â”‚ â”‚HÃ³a Ä‘Æ¡n  â”‚ â”‚ Portal  â”‚ â”‚hÃ³a Ä‘iá»ƒm â”‚       â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚  Báº¢NG GIÃ                                                           â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚     â”‚
â”‚    â”‚  â”‚    BASIC     â”‚ â”‚   STANDARD   â”‚ â”‚   PREMIUM    â”‚                â”‚     â”‚
â”‚    â”‚  â”‚  500k/thÃ¡ng  â”‚ â”‚  1.5tr/thÃ¡ng â”‚ â”‚  3tr/thÃ¡ng   â”‚                â”‚     â”‚
â”‚    â”‚  â”‚  50 há»c viÃªn â”‚ â”‚ 200 há»c viÃªn â”‚ â”‚  Unlimited   â”‚                â”‚     â”‚
â”‚    â”‚  â”‚  [ÄÄƒng kÃ½]   â”‚ â”‚  [ÄÄƒng kÃ½]   â”‚ â”‚  [ÄÄƒng kÃ½]   â”‚                â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚  KHÃCH HÃ€NG NÃ“I GÃŒ Vá»€ CHÃšNG TÃ”I                                    â”‚     â”‚
â”‚    â”‚  [Testimonials slider]                                              â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚  FAQ | LIÃŠN Há»† | FOOTER                                            â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. Visitor cÃ³ thá»ƒ Ä‘iá»u hÆ°á»›ng Ä‘áº¿n:                                              â”‚
â”‚    - /features: Chi tiáº¿t tÃ­nh nÄƒng                                             â”‚
â”‚    - /pricing: Chi tiáº¿t báº£ng giÃ¡                                               â”‚
â”‚    - /demo: Xem demo tÆ°Æ¡ng tÃ¡c                                                 â”‚
â”‚    - /blog: Blog & tin tá»©c                                                     â”‚
â”‚    - /contact: Form liÃªn há»‡                                                    â”‚
â”‚    - /login: ÄÄƒng nháº­p (Customer/Admin)                                        â”‚
â”‚    - /register: ÄÄƒng kÃ½ dÃ¹ng thá»­                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SEO Features:                                                                   â”‚
â”‚ â€¢ Server-Side Rendering cho táº¥t cáº£ pages                                       â”‚
â”‚ â€¢ Meta tags, Open Graph, Twitter Cards                                         â”‚
â”‚ â€¢ Sitemap.xml tá»± Ä‘á»™ng generate                                                 â”‚
â”‚ â€¢ Schema.org structured data                                                   â”‚
â”‚ â€¢ Core Web Vitals optimized                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Visitor cÃ³ thÃ´ng tin sáº£n pháº©m, cÃ³ thá»ƒ Ä‘Äƒng kÃ½                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-HUB-FE-02: Admin Dashboard (KiteHub Admin)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-FE-02: Admin Dashboard (KiteHub Admin)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Admin, Agent (nhÃ¢n viÃªn KiteHub)                                         â”‚
â”‚ Precondition: Admin/Agent Ä‘Ã£ Ä‘Äƒng nháº­p                                          â”‚
â”‚ Trigger: Admin truy cáº­p /admin                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Admin Ä‘Äƒng nháº­p táº¡i /admin/login                                            â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ Admin Dashboard:                                          â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚  KITEHUB ADMIN                                          [Admin â–¼]   â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚              â”‚                                                       â”‚     â”‚
â”‚    â”‚  Dashboard   â”‚  OVERVIEW                                            â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚     â”‚
â”‚    â”‚  ğŸ“Š Overview â”‚  â”‚ 156    â”‚ â”‚ 12     â”‚ â”‚ 8      â”‚ â”‚ 45tr   â”‚        â”‚     â”‚
â”‚    â”‚  ğŸ“¦ Orders   â”‚  â”‚Instancesâ”‚ â”‚New Todayâ”‚ â”‚Pending â”‚ â”‚Revenue â”‚        â”‚     â”‚
â”‚    â”‚  ğŸ¢ Instancesâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚     â”‚
â”‚    â”‚  ğŸ‘¥ Customersâ”‚                                                       â”‚     â”‚
â”‚    â”‚  ğŸ’¬ Support  â”‚  RECENT ORDERS                                       â”‚     â”‚
â”‚    â”‚  ğŸ¤– AI Jobs  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚    â”‚  ğŸ“ˆ Analyticsâ”‚  â”‚ #12345 â”‚ ACME Academy â”‚ STANDARD â”‚ PAID â”‚ 1.5tr â”‚ â”‚     â”‚
â”‚    â”‚  âš™ï¸ Settings â”‚  â”‚ #12344 â”‚ ABC Center   â”‚ BASIC    â”‚ PEND â”‚ 500k  â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â”‚ #12343 â”‚ XYZ School   â”‚ PREMIUM  â”‚ ACTV â”‚ 3tr   â”‚ â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚    â”‚  Agents (5)  â”‚                                                       â”‚     â”‚
â”‚    â”‚  â€¢ Lan â—     â”‚  INSTANCE HEALTH                                     â”‚     â”‚
â”‚    â”‚  â€¢ Minh â—    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚    â”‚  â€¢ HÃ¹ng â—‹    â”‚  â”‚ ğŸŸ¢ acme.kiteclass.com    - Healthy - 45 users  â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â”‚ ğŸŸ¢ abc.kiteclass.com     - Healthy - 120 users â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â”‚ ğŸŸ¡ xyz.kiteclass.com     - Warning - High CPU  â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚    â”‚              â”‚                                                       â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. Admin cÃ³ thá»ƒ truy cáº­p cÃ¡c modules:                                          â”‚
â”‚    a. Orders: Quáº£n lÃ½ Ä‘Æ¡n hÃ ng, xÃ¡c nháº­n thanh toÃ¡n                            â”‚
â”‚    b. Instances: Xem tráº¡ng thÃ¡i, suspend/resume, xem logs                      â”‚
â”‚    c. Customers: Quáº£n lÃ½ thÃ´ng tin khÃ¡ch hÃ ng                                  â”‚
â”‚    d. Support: Xem/assign chat tickets                                         â”‚
â”‚    e. AI Jobs: Xem tiáº¿n trÃ¬nh AI generation                                    â”‚
â”‚    f. Analytics: BÃ¡o cÃ¡o doanh thu, growth metrics                             â”‚
â”‚    g. Settings: Cáº¥u hÃ¬nh há»‡ thá»‘ng, pricing, templates                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Admin quáº£n lÃ½ Ä‘Æ°á»£c toÃ n bá»™ há»‡ thá»‘ng KiteHub                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-HUB-FE-03: Customer Portal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-FE-03: Customer Portal                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Customer (Chá»§ trung tÃ¢m Ä‘Ã£ mua gÃ³i)                                      â”‚
â”‚ Precondition: Customer Ä‘Ã£ cÃ³ tÃ i khoáº£n vÃ  subscription                          â”‚
â”‚ Trigger: Customer truy cáº­p /portal                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Customer Ä‘Äƒng nháº­p táº¡i /portal/login                                        â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ Customer Portal:                                          â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚  MY KITECLASS                                      [Nguyá»…n VÄƒn A â–¼] â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚              â”‚                                                       â”‚     â”‚
â”‚    â”‚  Dashboard   â”‚  THÃ”NG TIN SUBSCRIPTION                              â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                                                       â”‚     â”‚
â”‚    â”‚  ğŸ  Overview â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚    â”‚  ğŸ“„ Billing  â”‚  â”‚  GÃ³i: STANDARD                                  â”‚ â”‚     â”‚
â”‚    â”‚  ğŸŒ Instance â”‚  â”‚  Instance: acme.kiteclass.com                   â”‚ â”‚     â”‚
â”‚    â”‚  ğŸ¨ Branding â”‚  â”‚  Tráº¡ng thÃ¡i: ğŸŸ¢ Active                          â”‚ â”‚     â”‚
â”‚    â”‚  ğŸ’¬ Support  â”‚  â”‚  Háº¿t háº¡n: 15/01/2026                            â”‚ â”‚     â”‚
â”‚    â”‚  ğŸ“Š Usage    â”‚  â”‚  Há»c viÃªn: 145/200                              â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â”‚                                                  â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â”‚  [NÃ¢ng cáº¥p gÃ³i]  [Gia háº¡n]                       â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚    â”‚              â”‚                                                       â”‚     â”‚
â”‚    â”‚              â”‚  THá»NG KÃŠ Sá»¬ Dá»¤NG THÃNG NÃ€Y                         â”‚     â”‚
â”‚    â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚     â”‚
â”‚    â”‚              â”‚  â”‚ 145    â”‚ â”‚ 12     â”‚ â”‚ 850    â”‚ â”‚ 98%    â”‚        â”‚     â”‚
â”‚    â”‚              â”‚  â”‚Há»c viÃªnâ”‚ â”‚GiÃ¡o viÃªnâ”‚ â”‚Buá»•i há»câ”‚ â”‚Uptime  â”‚        â”‚     â”‚
â”‚    â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚     â”‚
â”‚    â”‚              â”‚                                                       â”‚     â”‚
â”‚    â”‚              â”‚  HÃ“A ÄÆ N Gáº¦N NHáº¤T                                   â”‚     â”‚
â”‚    â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚    â”‚              â”‚  â”‚ 12/2025 â”‚ 1,500,000Ä‘ â”‚ ÄÃ£ thanh toÃ¡n â”‚ [Xem]   â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â”‚ 11/2025 â”‚ 1,500,000Ä‘ â”‚ ÄÃ£ thanh toÃ¡n â”‚ [Xem]   â”‚ â”‚     â”‚
â”‚    â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚    â”‚              â”‚                                                       â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. Customer cÃ³ thá»ƒ:                                                            â”‚
â”‚    a. Overview: Xem thÃ´ng tin tá»•ng quan subscription                           â”‚
â”‚    b. Billing: Xem hÃ³a Ä‘Æ¡n, thanh toÃ¡n, táº£i invoice PDF                        â”‚
â”‚    c. Instance: Truy cáº­p nhanh vÃ o instance, xem status                        â”‚
â”‚    d. Branding: Xem/táº£i láº¡i AI-generated assets                                â”‚
â”‚    e. Support: Gá»­i ticket há»— trá»£, xem lá»‹ch sá»­ chat                             â”‚
â”‚    f. Usage: Xem thá»‘ng kÃª sá»­ dá»¥ng, quotas                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Customer quáº£n lÃ½ Ä‘Æ°á»£c subscription cá»§a mÃ¬nh                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-HUB-FE-04: Agent Chat Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-FE-04: Agent Chat Interface                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Agent (NhÃ¢n viÃªn há»— trá»£)                                                 â”‚
â”‚ Precondition: Agent Ä‘Ã£ Ä‘Äƒng nháº­p, status = Available                            â”‚
â”‚ Trigger: Agent truy cáº­p /admin/support hoáº·c cÃ³ chat má»›i                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Agent Ä‘Äƒng nháº­p vÃ o admin panel                                             â”‚
â”‚ 2. Truy cáº­p Support module                                                     â”‚
â”‚ 3. Há»‡ thá»‘ng hiá»ƒn thá»‹ Chat Interface:                                           â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚  SUPPORT CENTER                              [Online â—] [Agent: Lan]â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚               â”‚                                                      â”‚     â”‚
â”‚    â”‚  CONVERSATIONSâ”‚  CHAT WITH: khach@gmail.com                         â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  Page: /pricing  â€¢  IP: 42.112.xxx                  â”‚     â”‚
â”‚    â”‚               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚    â”‚  ğŸ”´ New (3)   â”‚                                                      â”‚     â”‚
â”‚    â”‚  â”œâ”€ khach@... â”‚  ğŸ‘¤ KhÃ¡ch: Cho tÃ´i há»i gÃ³i Standard cÃ³ bao          â”‚     â”‚
â”‚    â”‚  â”œâ”€ abc@...   â”‚     nhiÃªu há»c viÃªn váº­y?                             â”‚     â”‚
â”‚    â”‚  â””â”€ xyz@...   â”‚                                           14:30     â”‚     â”‚
â”‚    â”‚               â”‚                                                      â”‚     â”‚
â”‚    â”‚  ğŸŸ¡ Active(2) â”‚  ğŸ‘¨â€ğŸ’¼ Lan: ChÃ o anh/chá»‹! GÃ³i Standard há»— trá»£         â”‚     â”‚
â”‚    â”‚  â”œâ”€ demo@...  â”‚     tá»‘i Ä‘a 200 há»c viÃªn áº¡.                          â”‚     â”‚
â”‚    â”‚  â””â”€ test@...  â”‚                                           14:31     â”‚     â”‚
â”‚    â”‚               â”‚                                                      â”‚     â”‚
â”‚    â”‚  ğŸŸ¢ Resolved  â”‚  ğŸ‘¤ KhÃ¡ch: Váº­y cÃ³ thá»ƒ nÃ¢ng cáº¥p sau khÃ´ng?           â”‚     â”‚
â”‚    â”‚  (15 today)   â”‚                                           14:32     â”‚     â”‚
â”‚    â”‚               â”‚                                                      â”‚     â”‚
â”‚    â”‚               â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚    â”‚               â”‚                                                      â”‚     â”‚
â”‚    â”‚               â”‚  [Canned Responses â–¼] [Attach ğŸ“] [Transfer ğŸ‘¥]     â”‚     â”‚
â”‚    â”‚               â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚     â”‚
â”‚    â”‚               â”‚  â”‚ Nháº­p tin nháº¯n...                       [Gá»­i]â”‚    â”‚     â”‚
â”‚    â”‚               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚
â”‚    â”‚               â”‚                                                      â”‚     â”‚
â”‚    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  CUSTOMER INFO                                      â”‚     â”‚
â”‚    â”‚  Quick Stats  â”‚  â€¢ Email: khach@gmail.com                           â”‚     â”‚
â”‚    â”‚  ğŸ“Š 12 chats  â”‚  â€¢ Visits: 5                                        â”‚     â”‚
â”‚    â”‚  â± Avg: 3min  â”‚  â€¢ Last page: /pricing                              â”‚     â”‚
â”‚    â”‚               â”‚  â€¢ Previous chats: 0                                â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 4. Agent cÃ³ thá»ƒ:                                                               â”‚
â”‚    a. Tráº£ lá»i chat real-time                                                   â”‚
â”‚    b. Sá»­ dá»¥ng Canned Responses (máº«u cÃ¢u tráº£ lá»i)                               â”‚
â”‚    c. ÄÃ­nh kÃ¨m file/hÃ¬nh áº£nh                                                   â”‚
â”‚    d. Transfer chat sang agent khÃ¡c                                            â”‚
â”‚    e. ÄÃ¡nh tag/note cho conversation                                           â”‚
â”‚    f. Close/Resolve conversation                                               â”‚
â”‚    g. Xem thÃ´ng tin khÃ¡ch hÃ ng vÃ  lá»‹ch sá»­                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Agent Ä‘Ã£ há»— trá»£ khÃ¡ch hÃ ng                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UC-HUB-FE-05: Instance Management UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UC-HUB-FE-05: Instance Management UI                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Admin                                                                    â”‚
â”‚ Precondition: Admin Ä‘Ã£ Ä‘Äƒng nháº­p                                                â”‚
â”‚ Trigger: Admin truy cáº­p /admin/instances                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Flow:                                                                      â”‚
â”‚ 1. Admin truy cáº­p Instances module                                             â”‚
â”‚ 2. Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch instances:                                      â”‚
â”‚                                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚  INSTANCES                              [Search...] [Filter â–¼] [+]  â”‚     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚    â”‚  â”‚ ğŸŸ¢ acme.kiteclass.com                                         â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    ACME Academy â”‚ STANDARD â”‚ 145 users â”‚ Uptime: 99.9%        â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    Created: 01/12/2025 â”‚ Expires: 15/01/2026                  â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    CPU: 23% â”‚ Memory: 45% â”‚ Storage: 12GB/50GB                â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    [View] [Logs] [Suspend] [Settings]                         â”‚  â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚    â”‚  â”‚ ğŸŸ¡ xyz.kiteclass.com                              âš  Warning   â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    XYZ School â”‚ PREMIUM â”‚ 890 users â”‚ Uptime: 98.5%           â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    CPU: 85% â”‚ Memory: 78% â”‚ Storage: 45GB/100GB               â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    Alert: High CPU usage for 2 hours                          â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    [View] [Logs] [Scale Up] [Settings]                        â”‚  â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚    â”‚  â”‚ ğŸ”´ old.kiteclass.com                              Suspended   â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    Old Center â”‚ BASIC â”‚ 0 users â”‚ Payment overdue: 30 days    â”‚  â”‚     â”‚
â”‚    â”‚  â”‚    [Resume] [Contact Customer] [Delete]                       â”‚  â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚    â”‚                                                                      â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚ 3. Click vÃ o instance Ä‘á»ƒ xem chi tiáº¿t:                                         â”‚
â”‚    a. Overview: ThÃ´ng tin tá»•ng quan                                            â”‚
â”‚    b. Metrics: Charts CPU, Memory, Requests over time                          â”‚
â”‚    c. Logs: Real-time logs tá»« cÃ¡c services                                     â”‚
â”‚    d. Events: Audit log cá»§a instance                                           â”‚
â”‚    e. Settings: Cáº¥u hÃ¬nh, quotas                                               â”‚
â”‚    f. Actions: Restart, Scale, Suspend, Delete                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Postcondition: Admin quáº£n lÃ½ Ä‘Æ°á»£c táº¥t cáº£ instances                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# Tá»”NG Há»¢P USE CASES

## Theo Service

| Service | Sá»‘ lÆ°á»£ng Use Cases | Key Use Cases |
|---------|-------------------|---------------|
| **KITEHUB - Sale** | 4 | ÄÄƒng kÃ½, thanh toÃ¡n, quáº£n lÃ½ Ä‘Æ¡n hÃ ng |
| **KITEHUB - Message** | 3 | Chat há»— trá»£, thÃ´ng bÃ¡o há»‡ thá»‘ng |
| **KITEHUB - Maintaining** | 3 | Provisioning, monitoring, suspend/resume |
| **KITEHUB - AI Agent** | 2 | Generate marketing assets, Preview website â­ |
| **KITEHUB - Auth & Authorization** | 3 | ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, phÃ¢n quyá»n â­ NEW |
| **KITEHUB - Frontend** | 5 | Landing page, Admin dashboard, Customer portal, Agent chat, Instance management |
| **KITECLASS - API Gateway** | 3 | JWT validation, Rate limiting, Request routing â­ NEW |
| **KITECLASS - Core (Class)** | 3 | Táº¡o khÃ³a há»c, táº¡o lá»›p, thÃªm há»c viÃªn |
| **KITECLASS - Core (Learning)** | 3 | Äiá»ƒm danh, nháº­p Ä‘iá»ƒm, bÃ i táº­p |
| **KITECLASS - Core (Billing)** | 3 | Táº¡o hÃ³a Ä‘Æ¡n, thanh toÃ¡n, thu tiá»n |
| **KITECLASS - Core (Gamification)** | 3 | TÃ­ch Ä‘iá»ƒm, Ä‘á»•i quÃ , báº£ng xáº¿p háº¡ng |
| **KITECLASS - Core (Parent)** | 3 | ÄÄƒng kÃ½ Zalo OTP, xem thÃ´ng tin, nháº­n thÃ´ng bÃ¡o |
| **KITECLASS - Core (Forum)** | 1 | Äáº·t cÃ¢u há»i |
| **KITECLASS - User** | 4 | Login, OAuth, quáº£n lÃ½ user, authorization |
| **KITECLASS - Media** | 3 | Upload video, xem video, live streaming |
| **KITECLASS - Frontend** | 2 | Dashboard multi-role, responsive |
| **Tá»”NG** | **48** | |

## Theo Actor

| Actor | Sá»‘ Use Cases liÃªn quan |
|-------|------------------------|
| CENTER_OWNER | 12 |
| CENTER_ADMIN | 14 |
| TEACHER | 10 |
| STUDENT | 9 |
| PARENT | 6 |
| Visitor (KiteHub) | 1 |
| Customer (KiteHub) | 8 | â­ +3 (Auth, Preview) |
| Admin (KiteHub) | 9 | â­ +2 (Auth) |
| Agent (KiteHub) | 3 | â­ +1 (Auth) |
| System (Automated) | 11 | â­ +3 (Gateway) |

---

*BÃ¡o cÃ¡o Ä‘Æ°á»£c táº¡o bá»Ÿi: Claude Assistant*
*NgÃ y: 23/12/2025*
*PhiÃªn báº£n: 3.0 (Final)*
