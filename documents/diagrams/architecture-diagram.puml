@startuml KiteClass Platform Architecture
!theme plain
skinparam componentStyle rectangle

title Kiến Trúc Tổng Quan - KiteClass Platform

actor "Người dùng" as users

rectangle "KiteHub Platform\n(Modular Monolith)" #E3F2FD {
    component "Sale Module" as sale
    component "AI Agent Module" as ai
    component "Message Module" as message
    component "Maintaining Module" as maintain
}

rectangle "KiteClass Instance #1\n(Microservices)" #E8F5E9 {
    component "Frontend" as fe1
    component "Main Class Service" as main1
    component "User Service" as user1
    component "CMC Service" as cmc1
    component "Video Service" as video1
    component "Streaming Service" as stream1
    component "Forum Service" as forum1
}

rectangle "KiteClass Instance #2\n(Microservices)" #E8F5E9 {
    component "Frontend" as fe2
    component "Services..." as services2
}

cloud "AI Services" as aicloud #FFF9C4

database "Database" as db #FFE0B2
database "Cache" as cache #FFE0B2
database "Storage" as storage #FFE0B2

users --> sale : Đăng ký
users --> fe1 : Sử dụng
users --> fe2

sale --> ai : Tạo branding
sale --> maintain : Quản lý
ai --> aicloud : Generate
ai --> storage : Lưu assets

maintain --> db
maintain --> storage

fe1 --> main1
fe1 --> user1
fe1 --> cmc1
fe1 --> video1
fe1 --> stream1
fe1 --> forum1

main1 --> db
user1 --> db
video1 --> storage
stream1 --> cache

fe2 --> services2
services2 --> db

@enduml
